<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libacfutils: acfutils/airportdb.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libacfutils
   </div>
   <div id="projectbrief">A general purpose library of utility functions designed to make it easier to develop addons for the X-Plane flight simulator.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2f18166f86af4fcbeaddefb60d5355e9.html">acfutils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">airportdb.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="avl_8h_source.html">avl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="geom_8h_source.html">geom.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="list_8h_source.html">list.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="helpers_8h_source.html">helpers.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="htbl_8h_source.html">htbl.h</a>&quot;</code><br />
<code>#include &quot;thread.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for airportdb.h:</div>
<div class="dyncontent">
<div class="center"><img src="airportdb_8h__incl.png" border="0" usemap="#aacfutils_2airportdb_8h" alt=""/></div>
<map name="aacfutils_2airportdb_8h" id="aacfutils_2airportdb_8h">
<area shape="rect" title=" " alt="" coords="899,5,1045,32"/>
<area shape="rect" href="avl_8h.html" title=" " alt="" coords="153,528,207,555"/>
<area shape="rect" href="geom_8h.html" title=" " alt="" coords="161,155,231,181"/>
<area shape="rect" href="list_8h.html" title=" " alt="" coords="1074,528,1129,555"/>
<area shape="rect" href="helpers_8h.html" title=" " alt="" coords="705,155,788,181"/>
<area shape="rect" href="htbl_8h.html" title=" " alt="" coords="804,453,863,480"/>
<area shape="rect" href="thread_8h_source.html" title=" " alt="" coords="973,80,1049,107"/>
<area shape="rect" title=" " alt="" coords="173,677,269,704"/>
<area shape="rect" href="types_8h_source.html" title=" " alt="" coords="377,603,447,629"/>
<area shape="rect" href="avl__impl_8h_source.html" title=" " alt="" coords="217,603,308,629"/>
<area shape="rect" title=" " alt="" coords="575,677,646,704"/>
<area shape="rect" title=" " alt="" coords="713,752,783,779"/>
<area shape="rect" title=" " alt="" coords="377,677,447,704"/>
<area shape="rect" href="core_8h.html" title=" " alt="" coords="919,677,982,704"/>
<area shape="rect" href="libconfig_8h_source.html" title=" " alt="" coords="905,752,996,779"/>
<area shape="rect" href="math_8h_source.html" title=" " alt="" coords="398,229,466,256"/>
<area shape="rect" href="sysmacros_8h_source.html" title=" " alt="" coords="356,528,460,555"/>
<area shape="rect" href="assert_8h.html" title=" " alt="" coords="489,379,564,405"/>
<area shape="rect" href="math__core_8h_source.html" title=" " alt="" coords="482,304,585,331"/>
<area shape="rect" href="log_8h_source.html" title=" " alt="" coords="497,453,551,480"/>
<area shape="rect" title=" " alt="" coords="484,528,559,555"/>
<area shape="rect" href="list__impl_8h.html" title=" " alt="" coords="988,603,1079,629"/>
<area shape="rect" title=" " alt="" coords="1051,304,1122,331"/>
<area shape="rect" title=" " alt="" coords="592,229,659,256"/>
<area shape="rect" title=" " alt="" coords="1139,379,1210,405"/>
<area shape="rect" href="time_8h_source.html" title=" " alt="" coords="888,304,952,331"/>
<area shape="rect" href="lacf__getline__impl_8h.html" title=" " alt="" coords="784,229,931,256"/>
<area shape="rect" href="safe__alloc_8h.html" title=" " alt="" coords="609,304,709,331"/>
<area shape="rect" href="parser__funcs_8h.html" title=" " alt="" coords="1107,229,1224,256"/>
<area shape="rect" title=" " alt="" coords="918,155,986,181"/>
<area shape="rect" title=" " alt="" coords="1011,155,1085,181"/>
<area shape="rect" title=" " alt="" coords="1109,155,1200,181"/>
<area shape="rect" href="tls_8h_source.html" title=" " alt="" coords="1224,155,1275,181"/>
</map>
</div>
</div>
<p><a href="airportdb_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structairportdb__t.html">airportdb_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structramp__start__t.html">ramp_start_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrunway__end.html">runway_end_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrunway.html">runway_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfreq__info__t.html">freq_info_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structairport.html">airport_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structarpt__index__t.html">arpt_index_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afaaba96b814af470d847673be3bea701"><td class="memItemLeft" align="right" valign="top"><a id="afaaba96b814af470d847673be3bea701"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AIRPORTDB_IDENT_LEN</b>&#160;&#160;&#160;8</td></tr>
<tr class="separator:afaaba96b814af470d847673be3bea701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf291f18b530e7f7652b40bc33862fa3"><td class="memItemLeft" align="right" valign="top"><a id="adf291f18b530e7f7652b40bc33862fa3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AIRPORTDB_ICAO_LEN</b>&#160;&#160;&#160;8</td></tr>
<tr class="separator:adf291f18b530e7f7652b40bc33862fa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23bec807bbbc4e60e7caba1c5a473de9"><td class="memItemLeft" align="right" valign="top"><a id="a23bec807bbbc4e60e7caba1c5a473de9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AIRPORTDB_IATA_LEN</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a23bec807bbbc4e60e7caba1c5a473de9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcecd29df34d23a1d2deb68ebda5e34d"><td class="memItemLeft" align="right" valign="top"><a id="afcecd29df34d23a1d2deb68ebda5e34d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AIRPORTDB_CC_LEN</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:afcecd29df34d23a1d2deb68ebda5e34d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e52f95a95cd927e9867b375a653b295"><td class="memItemLeft" align="right" valign="top"><a id="a2e52f95a95cd927e9867b375a653b295"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>recreate_cache</b>(__db)&#160;&#160;&#160;<a class="el" href="airportdb_8h.html#a3c4d09bb57a5959f93f56fc98157bcb0">adb_recreate_cache</a>((__db), 0)</td></tr>
<tr class="separator:a2e52f95a95cd927e9867b375a653b295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a6bb2d8dfde7da5b7199c781743bf79"><td class="memItemLeft" align="right" valign="top"><a id="a7a6bb2d8dfde7da5b7199c781743bf79"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>find_nearest_airports</b>&#160;&#160;&#160;<a class="el" href="airportdb_8h.html#a3b4f8249650f05b1a8ee9613956e276c">adb_find_nearest_airports</a></td></tr>
<tr class="separator:a7a6bb2d8dfde7da5b7199c781743bf79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af70f6e1a4ab1cf53809e9e9b88c2c7a0"><td class="memItemLeft" align="right" valign="top"><a id="af70f6e1a4ab1cf53809e9e9b88c2c7a0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>free_nearest_airport_list</b>&#160;&#160;&#160;<a class="el" href="airportdb_8h.html#a59ad0ed1cc0ebf83870d855e116da38d">adb_free_nearest_airport_list</a></td></tr>
<tr class="separator:af70f6e1a4ab1cf53809e9e9b88c2c7a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa706023c2e17a964529ce708b0d2810c"><td class="memItemLeft" align="right" valign="top"><a id="aa706023c2e17a964529ce708b0d2810c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>set_airport_load_limit</b>&#160;&#160;&#160;<a class="el" href="airportdb_8h.html#a6c8782d6e1d3e1cd6216293d16a43e88">adb_set_airport_load_limit</a></td></tr>
<tr class="separator:aa706023c2e17a964529ce708b0d2810c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a649868f9f0c06676014854b01c5c80a1"><td class="memItemLeft" align="right" valign="top"><a id="a649868f9f0c06676014854b01c5c80a1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>load_nearest_airport_tiles</b>&#160;&#160;&#160;<a class="el" href="airportdb_8h.html#ae2ab54aa9f06a48c98a98d6225718c22">adb_load_nearest_airport_tiles</a></td></tr>
<tr class="separator:a649868f9f0c06676014854b01c5c80a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74649a90ba8aedf9521732ad475095b2"><td class="memItemLeft" align="right" valign="top"><a id="a74649a90ba8aedf9521732ad475095b2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>unload_distant_airport_tiles</b>&#160;&#160;&#160;<a class="el" href="airportdb_8h.html#ae327049075d49774121dea40916f6c08">adb_unload_distant_airport_tiles</a></td></tr>
<tr class="separator:a74649a90ba8aedf9521732ad475095b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a132837ccd533694affb6a915f3f09d06"><td class="memItemLeft" align="right" valign="top"><a id="a132837ccd533694affb6a915f3f09d06"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>airport_lookup</b>&#160;&#160;&#160;<a class="el" href="airportdb_8h.html#a67f35d46aba65f22cc7bfba3de8bc69b">adb_airport_lookup</a></td></tr>
<tr class="separator:a132837ccd533694affb6a915f3f09d06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1423ce6254370846bc90d32a78d41527"><td class="memItemLeft" align="right" valign="top"><a id="a1423ce6254370846bc90d32a78d41527"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>airport_lookup_global</b>&#160;&#160;&#160;<a class="el" href="airportdb_8h.html#a597d6d4e8a495af453aa9ff3d13326bd">adb_airport_lookup_global</a></td></tr>
<tr class="separator:a1423ce6254370846bc90d32a78d41527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc41ba405aea63d301cf1e461f07812d"><td class="memItemLeft" align="right" valign="top"><a id="afc41ba405aea63d301cf1e461f07812d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>airport_lookup_by_ident</b>&#160;&#160;&#160;<a class="el" href="airportdb_8h.html#a36c66a8380d7987ee41a5c9ea3a012ad">adb_airport_lookup_by_ident</a></td></tr>
<tr class="separator:afc41ba405aea63d301cf1e461f07812d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a72313530c8c3956497fb159f43a89"><td class="memItemLeft" align="right" valign="top"><a id="aa6a72313530c8c3956497fb159f43a89"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>airport_lookup_by_icao</b>&#160;&#160;&#160;<a class="el" href="airportdb_8h.html#ae38d00079aa14badd3aebd3c7e95d01a">adb_airport_lookup_by_icao</a></td></tr>
<tr class="separator:aa6a72313530c8c3956497fb159f43a89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77b343b9fcdd01d2cc1014874d5276ed"><td class="memItemLeft" align="right" valign="top"><a id="a77b343b9fcdd01d2cc1014874d5276ed"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>airport_lookup_by_iata</b>&#160;&#160;&#160;<a class="el" href="airportdb_8h.html#a053f80da812019d886dc48eab317e6ff">adb_airport_lookup_by_iata</a></td></tr>
<tr class="separator:a77b343b9fcdd01d2cc1014874d5276ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3cd0c8122012afc9ab3766f10ac4fd9"><td class="memItemLeft" align="right" valign="top"><a id="af3cd0c8122012afc9ab3766f10ac4fd9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>airport_index_walk</b>&#160;&#160;&#160;<a class="el" href="airportdb_8h.html#a6a1d01b8edb43b14d32cceda17f6c59b">adb_airport_index_walk</a></td></tr>
<tr class="separator:af3cd0c8122012afc9ab3766f10ac4fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ae734cb0575e02fcfae4154d2526350"><td class="memItemLeft" align="right" valign="top"><a id="a0ae734cb0575e02fcfae4154d2526350"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>airport_find_runway</b>&#160;&#160;&#160;<a class="el" href="airportdb_8h.html#ac1950bffd112484d43dcdafc181268fb">adb_airport_find_runway</a></td></tr>
<tr class="separator:a0ae734cb0575e02fcfae4154d2526350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab08d7653d6102fa9cd2279ae52439c10"><td class="memItemLeft" align="right" valign="top"><a id="ab08d7653d6102fa9cd2279ae52439c10"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>matching_airport_in_tile_with_TATL</b>&#160;&#160;&#160;	adb_matching_airport_in_tile_with_TATL</td></tr>
<tr class="separator:ab08d7653d6102fa9cd2279ae52439c10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1cd8fb2aee60e1a0d8434b5f158bc82"><td class="memItemLeft" align="right" valign="top"><a id="ab1cd8fb2aee60e1a0d8434b5f158bc82"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>airportdb_xp11_airac_cycle</b>&#160;&#160;&#160;<a class="el" href="airportdb_8h.html#a34fe4081bfb876c7ef14d9771472efe0">adb_airportdb_xp_airac_cycle</a></td></tr>
<tr class="separator:ab1cd8fb2aee60e1a0d8434b5f158bc82"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a7a9d989cf153c4e6a629559a9eeb0bc7"><td class="memItemLeft" align="right" valign="top"><a id="a7a9d989cf153c4e6a629559a9eeb0bc7"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>ramp_start_type_t</b> { <b>RAMP_START_GATE</b>
, <b>RAMP_START_HANGAR</b>
, <b>RAMP_START_TIEDOWN</b>
, <b>RAMP_START_MISC</b>
 }</td></tr>
<tr class="separator:a7a9d989cf153c4e6a629559a9eeb0bc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d1e47b3223130a5a87e6da3169cb496"><td class="memItemLeft" align="right" valign="top"><a id="a0d1e47b3223130a5a87e6da3169cb496"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>rwy_surf_t</b> { <br />
&#160;&#160;<b>RWY_SURF_ASPHALT</b> = 1
, <b>RWY_SURF_CONCRETE</b> = 2
, <b>RWY_SURF_GRASS</b> = 3
, <b>RWY_SURF_DIRT</b> = 4
, <br />
&#160;&#160;<b>RWY_SURF_GRAVEL</b> = 5
, <b>RWY_SURF_DRY_LAKEBED</b> = 12
, <b>RWY_SURF_WATER</b> = 13
, <b>RWY_SURF_SNOWICE</b> = 14
, <br />
&#160;&#160;<b>RWY_SURF_TRANSPARENT</b> = 15
<br />
 }</td></tr>
<tr class="separator:a0d1e47b3223130a5a87e6da3169cb496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dc635063fe51e8847a3226e5c17b82d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#a0dc635063fe51e8847a3226e5c17b82d">freq_type_t</a> { <br />
&#160;&#160;<a class="el" href="airportdb_8h.html#a0dc635063fe51e8847a3226e5c17b82da23ade366d635e2a6554dffe905521ce2">FREQ_TYPE_REC</a>
, <a class="el" href="airportdb_8h.html#a0dc635063fe51e8847a3226e5c17b82daca8bccd19e755ae55f9333cb87231557">FREQ_TYPE_CTAF</a>
, <a class="el" href="airportdb_8h.html#a0dc635063fe51e8847a3226e5c17b82dac19ef224a369c31b9f0f6b1bdc3ecbf5">FREQ_TYPE_CLNC</a>
, <a class="el" href="airportdb_8h.html#a0dc635063fe51e8847a3226e5c17b82da3b6e9f168a549e74573a7f2919a552e2">FREQ_TYPE_GND</a>
, <br />
&#160;&#160;<a class="el" href="airportdb_8h.html#a0dc635063fe51e8847a3226e5c17b82daeeebb930b938f691855804e67f1491e8">FREQ_TYPE_TWR</a>
, <a class="el" href="airportdb_8h.html#a0dc635063fe51e8847a3226e5c17b82da3009f58ed68eab5c989e05f9d12b084a">FREQ_TYPE_APP</a>
, <a class="el" href="airportdb_8h.html#a0dc635063fe51e8847a3226e5c17b82da2bbb45d874d6b5378c297520d1626760">FREQ_TYPE_DEP</a>
<br />
 }</td></tr>
<tr class="separator:a0dc635063fe51e8847a3226e5c17b82d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6f3b89f1cc3559071d9fca40515de649"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#a6f3b89f1cc3559071d9fca40515de649">airportdb_create</a> (<a class="el" href="structairportdb__t.html">airportdb_t</a> *db, const char *xpdir, const char *cachedir)</td></tr>
<tr class="separator:a6f3b89f1cc3559071d9fca40515de649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5fd744588fdfaa427aa796f9faaaef3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#af5fd744588fdfaa427aa796f9faaaef3">airportdb_destroy</a> (<a class="el" href="structairportdb__t.html">airportdb_t</a> *db)</td></tr>
<tr class="separator:af5fd744588fdfaa427aa796f9faaaef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b2ef13be92668b987ddde0d293c252f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#a2b2ef13be92668b987ddde0d293c252f">airportdb_lock</a> (<a class="el" href="structairportdb__t.html">airportdb_t</a> *db)</td></tr>
<tr class="separator:a2b2ef13be92668b987ddde0d293c252f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae83ece604c073e8b13f1a955c1d4555a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#ae83ece604c073e8b13f1a955c1d4555a">airportdb_unlock</a> (<a class="el" href="structairportdb__t.html">airportdb_t</a> *db)</td></tr>
<tr class="separator:ae83ece604c073e8b13f1a955c1d4555a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c4d09bb57a5959f93f56fc98157bcb0"><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#a3c4d09bb57a5959f93f56fc98157bcb0">adb_recreate_cache</a> (<a class="el" href="structairportdb__t.html">airportdb_t</a> *db, int app_version)</td></tr>
<tr class="separator:a3c4d09bb57a5959f93f56fc98157bcb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b4f8249650f05b1a8ee9613956e276c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlist__t.html">list_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#a3b4f8249650f05b1a8ee9613956e276c">adb_find_nearest_airports</a> (<a class="el" href="structairportdb__t.html">airportdb_t</a> *db, <a class="el" href="structgeo__pos2__t.html">geo_pos2_t</a> my_pos)</td></tr>
<tr class="separator:a3b4f8249650f05b1a8ee9613956e276c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59ad0ed1cc0ebf83870d855e116da38d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#a59ad0ed1cc0ebf83870d855e116da38d">adb_free_nearest_airport_list</a> (<a class="el" href="structlist__t.html">list_t</a> *l)</td></tr>
<tr class="separator:a59ad0ed1cc0ebf83870d855e116da38d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c8782d6e1d3e1cd6216293d16a43e88"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#a6c8782d6e1d3e1cd6216293d16a43e88">adb_set_airport_load_limit</a> (<a class="el" href="structairportdb__t.html">airportdb_t</a> *db, double limit)</td></tr>
<tr class="separator:a6c8782d6e1d3e1cd6216293d16a43e88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2ab54aa9f06a48c98a98d6225718c22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#ae2ab54aa9f06a48c98a98d6225718c22">adb_load_nearest_airport_tiles</a> (<a class="el" href="structairportdb__t.html">airportdb_t</a> *db, <a class="el" href="structgeo__pos2__t.html">geo_pos2_t</a> my_pos)</td></tr>
<tr class="separator:ae2ab54aa9f06a48c98a98d6225718c22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae327049075d49774121dea40916f6c08"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#ae327049075d49774121dea40916f6c08">adb_unload_distant_airport_tiles</a> (<a class="el" href="structairportdb__t.html">airportdb_t</a> *db, <a class="el" href="structgeo__pos2__t.html">geo_pos2_t</a> my_pos)</td></tr>
<tr class="separator:ae327049075d49774121dea40916f6c08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67f35d46aba65f22cc7bfba3de8bc69b"><td class="memItemLeft" align="right" valign="top">airport_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#a67f35d46aba65f22cc7bfba3de8bc69b">adb_airport_lookup</a> (<a class="el" href="structairportdb__t.html">airportdb_t</a> *db, const char *icao, <a class="el" href="structgeo__pos2__t.html">geo_pos2_t</a> pos)</td></tr>
<tr class="separator:a67f35d46aba65f22cc7bfba3de8bc69b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a597d6d4e8a495af453aa9ff3d13326bd"><td class="memItemLeft" align="right" valign="top">airport_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#a597d6d4e8a495af453aa9ff3d13326bd">adb_airport_lookup_global</a> (<a class="el" href="structairportdb__t.html">airportdb_t</a> *db, const char *icao)</td></tr>
<tr class="separator:a597d6d4e8a495af453aa9ff3d13326bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36c66a8380d7987ee41a5c9ea3a012ad"><td class="memItemLeft" align="right" valign="top">airport_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#a36c66a8380d7987ee41a5c9ea3a012ad">adb_airport_lookup_by_ident</a> (<a class="el" href="structairportdb__t.html">airportdb_t</a> *db, const char *ident)</td></tr>
<tr class="separator:a36c66a8380d7987ee41a5c9ea3a012ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae38d00079aa14badd3aebd3c7e95d01a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#ae38d00079aa14badd3aebd3c7e95d01a">adb_airport_lookup_by_icao</a> (<a class="el" href="structairportdb__t.html">airportdb_t</a> *db, const char *icao, void(*found_cb)(airport_t *<a class="el" href="structairport.html">airport</a>, void *userinfo), void *userinfo)</td></tr>
<tr class="separator:ae38d00079aa14badd3aebd3c7e95d01a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a053f80da812019d886dc48eab317e6ff"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#a053f80da812019d886dc48eab317e6ff">adb_airport_lookup_by_iata</a> (<a class="el" href="structairportdb__t.html">airportdb_t</a> *db, const char *iata, void(*found_cb)(airport_t *<a class="el" href="structairport.html">airport</a>, void *userinfo), void *userinfo)</td></tr>
<tr class="separator:a053f80da812019d886dc48eab317e6ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a1d01b8edb43b14d32cceda17f6c59b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#a6a1d01b8edb43b14d32cceda17f6c59b">adb_airport_index_walk</a> (<a class="el" href="structairportdb__t.html">airportdb_t</a> *db, void(*found_cb)(const <a class="el" href="structarpt__index__t.html">arpt_index_t</a> *idx, void *userinfo), void *userinfo)</td></tr>
<tr class="separator:a6a1d01b8edb43b14d32cceda17f6c59b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1950bffd112484d43dcdafc181268fb"><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#ac1950bffd112484d43dcdafc181268fb">adb_airport_find_runway</a> (airport_t *arpt, const char *rwy_id, runway_t **rwy_p, unsigned *end_p)</td></tr>
<tr class="separator:ac1950bffd112484d43dcdafc181268fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dbed3f1309ec345574826e9083efe4b"><td class="memItemLeft" align="right" valign="top"><a id="a7dbed3f1309ec345574826e9083efe4b"></a>
airport_t *&#160;</td><td class="memItemRight" valign="bottom"><b>adb_matching_airport_in_tile_with_TATL</b> (<a class="el" href="structairportdb__t.html">airportdb_t</a> *db, <a class="el" href="structgeo__pos2__t.html">geo_pos2_t</a> pos, const char *search_icao)</td></tr>
<tr class="separator:a7dbed3f1309ec345574826e9083efe4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34fe4081bfb876c7ef14d9771472efe0"><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="airportdb_8h.html#a34fe4081bfb876c7ef14d9771472efe0">adb_airportdb_xp_airac_cycle</a> (const char *xpdir, int *cycle)</td></tr>
<tr class="separator:a34fe4081bfb876c7ef14d9771472efe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The airport database is the primary repository of knowledge about airports, runways and bounding boxes.</p>
<p>To start using the airport database, first initialize an <a class="el" href="structairportdb__t.html">airportdb_t</a> using <a class="el" href="airportdb_8h.html#a6f3b89f1cc3559071d9fca40515de649">airportdb_create()</a>. This doesn't actually populate the database. You will then want to call <a class="el" href="airportdb_8h.html#a3c4d09bb57a5959f93f56fc98157bcb0">adb_recreate_cache()</a> on the initialized database, to actually make sure it is up to date. Subsequently, you can start using the various airport lookup and query functions to interrogate the database. When done, use <a class="el" href="airportdb_8h.html#af5fd744588fdfaa427aa796f9faaaef3">airportdb_destroy()</a> to free the database and its resources. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="airportdb_8h.html#a6f3b89f1cc3559071d9fca40515de649">airportdb_create()</a> </dd>
<dd>
<a class="el" href="airportdb_8h.html#a3c4d09bb57a5959f93f56fc98157bcb0">adb_recreate_cache()</a> </dd>
<dd>
<a class="el" href="airportdb_8h.html#af5fd744588fdfaa427aa796f9faaaef3">airportdb_destroy()</a> </dd>
<dd>
<a class="el" href="airportdb_8h.html#a597d6d4e8a495af453aa9ff3d13326bd">adb_airport_lookup_global()</a> </dd>
<dd>
<a class="el" href="airportdb_8h.html#a6a1d01b8edb43b14d32cceda17f6c59b">adb_airport_index_walk()</a></dd></dl>
<h2><a class="anchor" id="autotoc_md4"></a>
Implementation Details</h2>
<p>The airport database is composed of two data structures:</p>
<ul>
<li>a global ident -&gt; airport_t AVL tree (apt_dat). This allows us to quickly locate an airport based on its identifier.</li>
<li>a geo-referenced AVL tree from approximate airport reference point position (in 1-degree accuracy) to the airport_t (geo_table). This allows us to quickly sift through the airport database to locate any airports close to a given point of interest.</li>
</ul>
<p>Of these, apt_dat is the primary repository of knowledge - once an airport is gone from apt_dat, it is freed. An airport may or may not be geo-referenced in the geo_table. Once all loading of an airport is complete, it WILL be geo-referenced.</p>
<p>The geo_table is actually comprised of <a class="el" href="structtile__t.html">tile_t</a> data structures. A <a class="el" href="structtile__t.html">tile_t</a> refers to a 1x1 degree geographical tile at specific coordinates and contains its own private airport_t tree, which is again organized by abstract identifier, allowing us to step through all the airports in a tile or quickly locate one based on identifier.</p>
<p>During normal operation, not all airports from all over the world are loaded into memory, as that would use quite a bit of memory and delay startup. Instead, only the closets 9 tiles around the aircraft are present. New tiles are loaded as the aircraft repositions and the old ones are released. Loading a tile first populates the global apt_dat with all its airports, which are then geo-referenced in the newly created tile. Releasing a tile is the converse, ultimately ending in the airports being purged from apt_dat and freed.</p>
<p>The 9-tile rule can result in strange behavior close to the poles, where the code might think of close by airports as being very far away and thus not load them. Luckily, there are only about 4 airports beyond 80 degrees latitude (north or south), all of which are very special non-regular airports, so we just ignore those.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Airport Data Construction Method</h2>
<p>For each airport, we need to obtain the following pieces of information:</p>
<ol type="1">
<li>The abstract airport identifier.<ul>
<li>Optional ICAO identifier, on a 1302 icao_code line.</li>
<li>Optional IATA identifier, on a 1302 iata_code line.</li>
</ul>
</li>
<li>The airport reference point latitude, longitude and elevation.</li>
<li>The airport's transition altitude and transition level (if published).</li>
<li>For each runway:<ul>
<li>Runway width.</li>
<li>Each threshold's geographical position and elevation.</li>
<li>If the threshold is displaced, the amount of displacement.</li>
<li>For each end, if available, the optimal glidepath angle and threshold clearing height.</li>
</ul>
</li>
</ol>
<p>First we examine all installed scenery. That means going through each apt.dat declared in scenery_packs.ini and the global default apt dat to find these kinds of records:</p>
<ul>
<li>'1' records identify airports. See parse_apt_dat_1_line.</li>
<li>'21' records identify runway-related lighting fixtures (PAPIs/VASIs). See parse_apt_dat_21_line.</li>
<li>'50' through '56' and '1050' through '1056' records identify frequency information. See parse_apt_dat_freq_line.</li>
<li>'100' records identify runways. See parse_apt_dat_100_line.</li>
<li>'1302' records identify airport meta-information, such as ICAO code, TA, TL, reference point location, etc.</li>
</ul>
<p>Prior to X-Plane 11, apt.dat's didn't necessarily contain the '1302' records, so we had to pull those from the Airports.txt in the navdata directory for the built-in GNS430. Starting from X-Plane 11, Airports.txt is gone and this data has been relocated to the apt.dat.</p>
<p>A further complication of the absence of an Airports.txt is that this file contained both the GPA and TCH for each runway and although it did sometimes require some fuzzy matching to account for outdated scenery not exactly matching the navdata, we could obtain this information from one place.</p>
<p>So for X-Plane 11, we've implemented a new method of obtaining this information. By default, if a runway has an instrument approach (unless ifr_only=B_FALSE), it will have an entry in CIFP. Runway entries in APPCH-type procedures specify the TCH and GPA in columns 24 and 29 (ARINC 424 fields 4.1.9.1.85-89 and 4.1.9.1.103-106). We only use the first such occurence. If there are multiple approaches to the runway, they should all end up with the same TCH and GPA. This should cover pretty much every case. In the rare case where we <em>don't</em> get the TCH and GPA this way, we try a fallback mechanism. Almost every instrument approach runway has some kind of visual glideslope indication (VGSI) right next to it. We can extract the location of those from the apt.dat file. These VGSIs are located in the exact touchdown point and have a fixed GPA. So we simply look for a VGSI close to the runway's centerline and that is aligned with the runway, compute the longitudinal displacement of this indicator from the runway threshold and using the indicator's GPA compute the optimal TCH. </p>

<p class="definition">Definition in file <a class="el" href="airportdb_8h_source.html">airportdb.h</a>.</p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a0dc635063fe51e8847a3226e5c17b82d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dc635063fe51e8847a3226e5c17b82d">&#9670;&nbsp;</a></span>freq_type_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="airportdb_8h.html#a0dc635063fe51e8847a3226e5c17b82d">freq_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a0dc635063fe51e8847a3226e5c17b82da23ade366d635e2a6554dffe905521ce2"></a>FREQ_TYPE_REC&#160;</td><td class="fielddoc"><p>Pre-recorded message ATIS, AWOS or ASOS </p>
</td></tr>
<tr><td class="fieldname"><a id="a0dc635063fe51e8847a3226e5c17b82daca8bccd19e755ae55f9333cb87231557"></a>FREQ_TYPE_CTAF&#160;</td><td class="fielddoc"><p>Common Traffic Advisory Frequency </p>
</td></tr>
<tr><td class="fieldname"><a id="a0dc635063fe51e8847a3226e5c17b82dac19ef224a369c31b9f0f6b1bdc3ecbf5"></a>FREQ_TYPE_CLNC&#160;</td><td class="fielddoc"><p>Clearance Delivery </p>
</td></tr>
<tr><td class="fieldname"><a id="a0dc635063fe51e8847a3226e5c17b82da3b6e9f168a549e74573a7f2919a552e2"></a>FREQ_TYPE_GND&#160;</td><td class="fielddoc"><p>Ground </p>
</td></tr>
<tr><td class="fieldname"><a id="a0dc635063fe51e8847a3226e5c17b82daeeebb930b938f691855804e67f1491e8"></a>FREQ_TYPE_TWR&#160;</td><td class="fielddoc"><p>Tower </p>
</td></tr>
<tr><td class="fieldname"><a id="a0dc635063fe51e8847a3226e5c17b82da3009f58ed68eab5c989e05f9d12b084a"></a>FREQ_TYPE_APP&#160;</td><td class="fielddoc"><p>Approach </p>
</td></tr>
<tr><td class="fieldname"><a id="a0dc635063fe51e8847a3226e5c17b82da2bbb45d874d6b5378c297520d1626760"></a>FREQ_TYPE_DEP&#160;</td><td class="fielddoc"><p>Departure </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="airportdb_8h_source.html#l00241">241</a> of file <a class="el" href="airportdb_8h_source.html">airportdb.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac1950bffd112484d43dcdafc181268fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1950bffd112484d43dcdafc181268fb">&#9670;&nbsp;</a></span>adb_airport_find_runway()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t adb_airport_find_runway </td>
          <td>(</td>
          <td class="paramtype">airport_t *&#160;</td>
          <td class="paramname"><em>arpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>rwy_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">runway_t **&#160;</td>
          <td class="paramname"><em>rwy_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>end_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a search in an airport for a runway matching a given runway ID at one of its ends.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arpt</td><td>The airport in which to perform to search. </td></tr>
    <tr><td class="paramname">rwy_id</td><td>A 0-leading, NUL-terminated runway ID. This runway ID is matched against a either end of all runways at the airport. Examples: "05", "09R", "25C", "36L". </td></tr>
    <tr><td class="paramname">rwy_p</td><td>Mandatory return argument, which will be filled with a pointer to the matching <a class="el" href="structrunway.html">runway</a> structure, if found. If not found, this will be set to <code>NULL</code>. </td></tr>
    <tr><td class="paramname">end_p</td><td>Mandatory return argument, which will be filled with the index (0 or 1) of the matching <a class="el" href="structrunway__end.html">runway_end</a> structure, if found. If not found, this will be left unchanged. This index points into the <code>ends</code> field in the returned <a class="el" href="structrunway.html">runway</a> structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>B_TRUE</code> if the search was successful, <code>B_FALSE</code> otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="airportdb_8c_source.html#l03415">3415</a> of file <a class="el" href="airportdb_8c_source.html">airportdb.c</a>.</p>

</div>
</div>
<a id="a6a1d01b8edb43b14d32cceda17f6c59b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a1d01b8edb43b14d32cceda17f6c59b">&#9670;&nbsp;</a></span>adb_airport_index_walk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t adb_airport_index_walk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structairportdb__t.html">airportdb_t</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(const <a class="el" href="structarpt__index__t.html">arpt_index_t</a> *idx, void *userinfo)&#160;</td>
          <td class="paramname"><em>found_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userinfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provides a method for walking the entire airport index in the database. This is an entirely in-memory operation, so is relatively fast. However, keep in mind that there are typically &gt;30,000 airports in the index, so don't do this too frequently.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Database to perform the index walk on. </td></tr>
    <tr><td class="paramname">found_cb</td><td>Callback which will be called with each airport in the index. The <code>idx</code> argument is filled with the <a class="el" href="structarpt__index__t.html">arpt_index_t</a> information about each airport found. The <code>userinfo</code> argument will be filled with whatever is provided in the userinfo argument to the <a class="el" href="airportdb_8h.html#a6a1d01b8edb43b14d32cceda17f6c59b">adb_airport_index_walk()</a> function. </td></tr>
    <tr><td class="paramname">found_cb</td><td>You may provide a NULL value for this argument, which will not call any callbacks and can be simply used to grab the return value of this function. </td></tr>
    <tr><td class="paramname">userinfo</td><td>Custom pointer user info argument, which will be passed to the <code>found_cb</code> callback function in its second argument.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The total number of airport in the index. If you passed <code>NULL</code> for the found_cb argument, this will avoid walking the index entirely, simply returning the number of airports in the index. </dd></dl>

<p class="definition">Definition at line <a class="el" href="airportdb_8c_source.html#l03381">3381</a> of file <a class="el" href="airportdb_8c_source.html">airportdb.c</a>.</p>

</div>
</div>
<a id="a67f35d46aba65f22cc7bfba3de8bc69b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67f35d46aba65f22cc7bfba3de8bc69b">&#9670;&nbsp;</a></span>adb_airport_lookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">airport_t* adb_airport_lookup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structairportdb__t.html">airportdb_t</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>icao</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgeo__pos2__t.html">geo_pos2_t</a>&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Legacy lookup function by ICAO ID. Airports without valid ICAO IDs won't show up here. The search is also restricted to a narrow zone around &lsquo;pos&rsquo; (within a 3x3 degree square). Use <a class="el" href="airportdb_8h.html#a597d6d4e8a495af453aa9ff3d13326bd">adb_airport_lookup_global()</a> for a search at any arbitrary location. </p>

<p class="definition">Definition at line <a class="el" href="airportdb_8c_source.html#l03320">3320</a> of file <a class="el" href="airportdb_8c_source.html">airportdb.c</a>.</p>

</div>
</div>
<a id="a053f80da812019d886dc48eab317e6ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a053f80da812019d886dc48eab317e6ff">&#9670;&nbsp;</a></span>adb_airport_lookup_by_iata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t adb_airport_lookup_by_iata </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structairportdb__t.html">airportdb_t</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>iata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(airport_t *<a class="el" href="structairport.html">airport</a>, void *userinfo)&#160;</td>
          <td class="paramname"><em>found_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userinfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lookup by IATA ID, with support for duplicates.</p>
<p>Arguments and return value are the same as <a class="el" href="airportdb_8h.html#ae38d00079aa14badd3aebd3c7e95d01a">adb_airport_lookup_by_icao()</a>, except the lookup is done by the IATA code, rather than ICAO code. </p>

<p class="definition">Definition at line <a class="el" href="airportdb_8c_source.html#l03294">3294</a> of file <a class="el" href="airportdb_8c_source.html">airportdb.c</a>.</p>

</div>
</div>
<a id="ae38d00079aa14badd3aebd3c7e95d01a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae38d00079aa14badd3aebd3c7e95d01a">&#9670;&nbsp;</a></span>adb_airport_lookup_by_icao()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t adb_airport_lookup_by_icao </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structairportdb__t.html">airportdb_t</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>icao</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(airport_t *<a class="el" href="structairport.html">airport</a>, void *userinfo)&#160;</td>
          <td class="paramname"><em>found_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userinfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lookup by ICAO ID, with support for duplicates.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Database in which to perform the lookup. </td></tr>
    <tr><td class="paramname">icao</td><td>The 4-letter ICAO code to look for. </td></tr>
    <tr><td class="paramname">found_cb</td><td>Callback which will be called with each airport matching the ICAO ID. The <code>airport</code> argument is filled with the <a class="el" href="structairport.html">airport</a> information about each airport found. The <code>userinfo</code> argument will be filled with whatever is provided in the userinfo argument to the <a class="el" href="airportdb_8h.html#a6a1d01b8edb43b14d32cceda17f6c59b">adb_airport_index_walk()</a> function. </td></tr>
    <tr><td class="paramname">userinfo</td><td>Optional user info pointer, which will be passed to every call to <code>found_cb</code> in its second argument.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of airports found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="airportdb_8c_source.html#l03268">3268</a> of file <a class="el" href="airportdb_8c_source.html">airportdb.c</a>.</p>

</div>
</div>
<a id="a36c66a8380d7987ee41a5c9ea3a012ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36c66a8380d7987ee41a5c9ea3a012ad">&#9670;&nbsp;</a></span>adb_airport_lookup_by_ident()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">airport_t* adb_airport_lookup_by_ident </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structairportdb__t.html">airportdb_t</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ident</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Searches for an airport in the database by unique identifier.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Database in which to perform the lookup. </td></tr>
    <tr><td class="paramname">ident</td><td>The unique identifier of the airport. Please note that X-Plane's airport identifiers needn't be exactly the same as their ICAO codes. Some airports don't have ICAO codes, or their ident and ICAO code are inconsistent (e.g. due to the ICAO code having been changed by the relevant civil aviation authority).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="structairport.html">airport</a> structure if the airport was found, or NULL if not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="airportdb_8c_source.html#l03202">3202</a> of file <a class="el" href="airportdb_8c_source.html">airportdb.c</a>.</p>

</div>
</div>
<a id="a597d6d4e8a495af453aa9ff3d13326bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a597d6d4e8a495af453aa9ff3d13326bd">&#9670;&nbsp;</a></span>adb_airport_lookup_global()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">airport_t* adb_airport_lookup_global </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structairportdb__t.html">airportdb_t</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>icao</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs an airport lookup without having to know its approximate location first. This is a legacy fallback version for the airport_lookup_by_icao() function. Airports without valid ICAO IDs won't show up here.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>The airportdb on which to perform the lookup. </td></tr>
    <tr><td class="paramname">icao</td><td>The ICAO code of the airport. If there are duplicate airports matching the ICAO code, which airport is returned cannot be predicted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="structairport.html">airport</a> structure of the airport, if found, or NULL if not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="airportdb_8c_source.html#l03349">3349</a> of file <a class="el" href="airportdb_8c_source.html">airportdb.c</a>.</p>

</div>
</div>
<a id="a34fe4081bfb876c7ef14d9771472efe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34fe4081bfb876c7ef14d9771472efe0">&#9670;&nbsp;</a></span>adb_airportdb_xp_airac_cycle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t adb_airportdb_xp_airac_cycle </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>xpdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>cycle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempts to determine the AIRAC cycle currently in use in the navdata on X-Plane 11/12. Sadly, there doesn't seem to be a nice data field for this, so we need to do some fulltext searching.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xpdir</td><td>A path to the X-Plane installation directory. </td></tr>
    <tr><td class="paramname">cycle</td><td>Mandatory return argument. If the search is successful, this will be filled with the AIRAC cycle number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>B_TRUE</code> if the determination succeeded, <code>B_FALSE</code> otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="airportdb_8c_source.html#l02046">2046</a> of file <a class="el" href="airportdb_8c_source.html">airportdb.c</a>.</p>

</div>
</div>
<a id="a3b4f8249650f05b1a8ee9613956e276c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b4f8249650f05b1a8ee9613956e276c">&#9670;&nbsp;</a></span>adb_find_nearest_airports()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlist__t.html">list_t</a>* adb_find_nearest_airports </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structairportdb__t.html">airportdb_t</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgeo__pos2__t.html">geo_pos2_t</a>&#160;</td>
          <td class="paramname"><em>my_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Locates all airports within the load limit distance of a geographic reference position. The airports are searched for in the apt_dat database and this function returns its result into the list argument. To set the load limit distance, use <a class="el" href="airportdb_8h.html#a6c8782d6e1d3e1cd6216293d16a43e88">adb_set_airport_load_limit()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>A list of <a class="el" href="structairport.html">airport</a> structures. This list must be freed using <a class="el" href="airportdb_8h.html#a59ad0ed1cc0ebf83870d855e116da38d">adb_free_nearest_airport_list()</a>. You may also not call <a class="el" href="airportdb_8h.html#a3b4f8249650f05b1a8ee9613956e276c">adb_find_nearest_airports()</a> multiple times without first freeing the returned list, as the linked list reuses the same list node inside of the <a class="el" href="structairport.html">airport</a> structures.</dd>
<dd>
When using an <a class="el" href="structairportdb__t.html">airportdb_t</a> from multiple threads, make sure to lock database using <a class="el" href="airportdb_8h.html#a2b2ef13be92668b987ddde0d293c252f">airportdb_lock()</a> before doing the lookup and working with the returned list. After freeing the list, call <a class="el" href="airportdb_8h.html#ae83ece604c073e8b13f1a955c1d4555a">airportdb_unlock()</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="airportdb_8c_source.html#l02895">2895</a> of file <a class="el" href="airportdb_8c_source.html">airportdb.c</a>.</p>

</div>
</div>
<a id="a59ad0ed1cc0ebf83870d855e116da38d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59ad0ed1cc0ebf83870d855e116da38d">&#9670;&nbsp;</a></span>adb_free_nearest_airport_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adb_free_nearest_airport_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlist__t.html">list_t</a> *&#160;</td>
          <td class="paramname"><em>l</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees the list returned from find_nearest_airports().</p>
<p>You mustn't call find_nearest_airports() multiple times without first freeing the returned list, as the linked list reuses the same list node inside of the <a class="el" href="structairport.html">airport</a> structures.</p>
<p>When using an <a class="el" href="structairportdb__t.html">airportdb_t</a> from multiple threads, make sure to lock database using <a class="el" href="airportdb_8h.html#a2b2ef13be92668b987ddde0d293c252f">airportdb_lock()</a> before doing the lookup and working with the returned list. After freeing the list, call <a class="el" href="airportdb_8h.html#ae83ece604c073e8b13f1a955c1d4555a">airportdb_unlock()</a>. </p>

<p class="definition">Definition at line <a class="el" href="airportdb_8c_source.html#l02927">2927</a> of file <a class="el" href="airportdb_8c_source.html">airportdb.c</a>.</p>

</div>
</div>
<a id="ae2ab54aa9f06a48c98a98d6225718c22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2ab54aa9f06a48c98a98d6225718c22">&#9670;&nbsp;</a></span>adb_load_nearest_airport_tiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adb_load_nearest_airport_tiles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structairportdb__t.html">airportdb_t</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgeo__pos2__t.html">geo_pos2_t</a>&#160;</td>
          <td class="paramname"><em>my_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a load of all airports within the distance load limit of a given position. The distance limit is set using <a class="el" href="airportdb_8h.html#a6c8782d6e1d3e1cd6216293d16a43e88">adb_set_airport_load_limit()</a>. A loaded airport has all its information resolved, such as the ECEF positions of the threshold, all bounding boxes constructed, etc.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>The database for which to perform the load. </td></tr>
    <tr><td class="paramname">my_pos</td><td>The 2-space geographic position around which to perform the load. This MUST be a valid geographic coordinate. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="airportdb_8c_source.html#l03008">3008</a> of file <a class="el" href="airportdb_8c_source.html">airportdb.c</a>.</p>

</div>
</div>
<a id="a3c4d09bb57a5959f93f56fc98157bcb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c4d09bb57a5959f93f56fc98157bcb0">&#9670;&nbsp;</a></span>adb_recreate_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t adb_recreate_cache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structairportdb__t.html">airportdb_t</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>app_version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rebuilds all cache state from disk. This must be called only once, after calling <a class="el" href="airportdb_8h.html#a6f3b89f1cc3559071d9fca40515de649">airportdb_create()</a> to actually populate the cache. On first run, the disk cache will be empty, and this function will interrogate X-Plane's installed scenery to rebuild the cache. If the cache already exists, this function checks for changes in X-Plane's scenery and/or navdata and if necessary rebuilds the cache, or simply loads it as-is.</p>
<p>Please note that on first run (or if a scenery change is detected), this function can take quite a bit of time to run (tens of seconds to minutes, if the machine is particularly slow and has lots of scenery). You are therefore encouraged to run it only once at startup. If you need to create multiple airportdb instances, create them in sequence, NOT in parallel! This function perform disk I/O an the cache is NOT designed for concurrent writing! Once created by the first instance of airportdb, subsequent airportdb instances will not need to rebuild and will simply read the cache as-is, so this function will return nearly instantly.</p>
<p>Be sure to configure the &lsquo;ifr_only&rsquo; flag in the airportdb structure before calling this function. That flag specifies whether the cache should only contain airports with published instrument approaches, or if VFR-only airports should also be allowed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Database instance which was previously initialized using <a class="el" href="airportdb_8h.html#a6f3b89f1cc3559071d9fca40515de649">airportdb_create()</a>. </td></tr>
    <tr><td class="paramname">app_version</td><td>An application-side version tag to apply to the cache. This can be used in any way you want. If the cache detects a change in the <code>app_version</code> tag, the cache will be recreated. You can use this to, for example, recreate the cache, if you changed your cache configuration between versions of your addon.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>B_TRUE</code> if successful, <code>B_FALSE</code> if cache creation failed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="airportdb_8c_source.html#l02441">2441</a> of file <a class="el" href="airportdb_8c_source.html">airportdb.c</a>.</p>

</div>
</div>
<a id="a6c8782d6e1d3e1cd6216293d16a43e88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c8782d6e1d3e1cd6216293d16a43e88">&#9670;&nbsp;</a></span>adb_set_airport_load_limit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adb_set_airport_load_limit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structairportdb__t.html">airportdb_t</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the distance limit within which airports are loaded from disk. A loaded airport has all its information resolved, such as the ECEF positions of the threshold, all bounding boxes constructed, etc. The default airport load limit for a newly created airportdb is 14,816 meters (8nm).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>The database for which to set the load limit. </td></tr>
    <tr><td class="paramname">limit</td><td>The distance limit in meters. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="airportdb_8c_source.html#l02991">2991</a> of file <a class="el" href="airportdb_8c_source.html">airportdb.c</a>.</p>

</div>
</div>
<a id="ae327049075d49774121dea40916f6c08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae327049075d49774121dea40916f6c08">&#9670;&nbsp;</a></span>adb_unload_distant_airport_tiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adb_unload_distant_airport_tiles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structairportdb__t.html">airportdb_t</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgeo__pos2__t.html">geo_pos2_t</a>&#160;</td>
          <td class="paramname"><em>my_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unloads airports that are beyond the airport load limit distance from a given position. This frees some memory allocations for the airports. You should be calling this function at regular intervals as you move through the world, to make sure airports don't remain loaded forever. Use <a class="el" href="airportdb_8h.html#a6c8782d6e1d3e1cd6216293d16a43e88">adb_set_airport_load_limit()</a> to set the distance limit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>The database for which to perform the unload. </td></tr>
    <tr><td class="paramname">my_pos</td><td>The 2-space geographic position to use as the reference. Airports beyond the load limit distance will be unloaded. You may pass a <code>NULL_GEO_POS2</code> for this argument - this will make the airportdb unload all loaded airports. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="airportdb_8c_source.html#l03056">3056</a> of file <a class="el" href="airportdb_8c_source.html">airportdb.c</a>.</p>

</div>
</div>
<a id="a6f3b89f1cc3559071d9fca40515de649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f3b89f1cc3559071d9fca40515de649">&#9670;&nbsp;</a></span>airportdb_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void airportdb_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structairportdb__t.html">airportdb_t</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>xpdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cachedir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes an <a class="el" href="structairportdb__t.html">airportdb_t</a> structure. Please note that this doesn't populate the data in the database. It simply sets up its memory state to be ready for operation. To load disk data into the database and actually start using it, call <a class="el" href="airportdb_8h.html#a3c4d09bb57a5959f93f56fc98157bcb0">adb_recreate_cache()</a> after initializing the airportdb structure. Use <a class="el" href="airportdb_8h.html#af5fd744588fdfaa427aa796f9faaaef3">airportdb_destroy()</a> to free the resources allocated by an <a class="el" href="structairportdb__t.html">airportdb_t</a>. </p>

<p class="definition">Definition at line <a class="el" href="airportdb_8c_source.html#l03096">3096</a> of file <a class="el" href="airportdb_8c_source.html">airportdb.c</a>.</p>

</div>
</div>
<a id="af5fd744588fdfaa427aa796f9faaaef3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5fd744588fdfaa427aa796f9faaaef3">&#9670;&nbsp;</a></span>airportdb_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void airportdb_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structairportdb__t.html">airportdb_t</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroys an <a class="el" href="structairportdb__t.html">airportdb_t</a> structure, after it has been initialized using <a class="el" href="airportdb_8h.html#a6f3b89f1cc3559071d9fca40515de649">airportdb_create()</a>. </p>

<p class="definition">Definition at line <a class="el" href="airportdb_8c_source.html#l03130">3130</a> of file <a class="el" href="airportdb_8c_source.html">airportdb.c</a>.</p>

</div>
</div>
<a id="a2b2ef13be92668b987ddde0d293c252f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b2ef13be92668b987ddde0d293c252f">&#9670;&nbsp;</a></span>airportdb_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void airportdb_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structairportdb__t.html">airportdb_t</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Locks an <a class="el" href="structairportdb__t.html">airportdb_t</a> structure, for use by multiple threads. Use <a class="el" href="airportdb_8h.html#ae83ece604c073e8b13f1a955c1d4555a">airportdb_unlock()</a> to release the lock. Locking is recursive, so <a class="el" href="airportdb_8h.html#ae83ece604c073e8b13f1a955c1d4555a">airportdb_unlock()</a> must be called as many times as <a class="el" href="airportdb_8h.html#a2b2ef13be92668b987ddde0d293c252f">airportdb_lock()</a> to fully release the lock. </p>

<p class="definition">Definition at line <a class="el" href="airportdb_8c_source.html#l03171">3171</a> of file <a class="el" href="airportdb_8c_source.html">airportdb.c</a>.</p>

</div>
</div>
<a id="ae83ece604c073e8b13f1a955c1d4555a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae83ece604c073e8b13f1a955c1d4555a">&#9670;&nbsp;</a></span>airportdb_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void airportdb_unlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structairportdb__t.html">airportdb_t</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlocks an <a class="el" href="structairportdb__t.html">airportdb_t</a> structure after it has been locked using <a class="el" href="airportdb_8h.html#a2b2ef13be92668b987ddde0d293c252f">airportdb_lock()</a>. Locking is recursive, so <a class="el" href="airportdb_8h.html#ae83ece604c073e8b13f1a955c1d4555a">airportdb_unlock()</a> must be called as many times as <a class="el" href="airportdb_8h.html#a2b2ef13be92668b987ddde0d293c252f">airportdb_lock()</a> to fully release the lock. </p>

<p class="definition">Definition at line <a class="el" href="airportdb_8c_source.html#l03183">3183</a> of file <a class="el" href="airportdb_8c_source.html">airportdb.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
