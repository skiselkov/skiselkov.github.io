<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libacfutils: acfutils/htbl.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libacfutils
   </div>
   <div id="projectbrief">A general purpose library of utility functions designed to make it easier to develop addons for the X-Plane flight simulator.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2f18166f86af4fcbeaddefb60d5355e9.html">acfutils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">htbl.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;types.h&quot;</code><br />
<code>#include &quot;<a class="el" href="list_8h_source.html">list.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for htbl.h:</div>
<div class="dyncontent">
<div class="center"><img src="htbl_8h__incl.png" border="0" usemap="#aacfutils_2htbl_8h" alt=""/></div>
<map name="aacfutils_2htbl_8h" id="aacfutils_2htbl_8h">
<area shape="rect" title=" " alt="" coords="43,5,154,32"/>
<area shape="rect" title=" " alt="" coords="100,229,171,256"/>
<area shape="rect" title=" " alt="" coords="27,155,98,181"/>
<area shape="rect" href="types_8h_source.html" title=" " alt="" coords="100,80,171,107"/>
<area shape="rect" href="list_8h.html" title=" " alt="" coords="272,80,327,107"/>
<area shape="rect" title=" " alt="" coords="174,155,244,181"/>
<area shape="rect" href="core_8h.html" title=" " alt="" coords="268,155,331,181"/>
<area shape="rect" href="libconfig_8h_source.html" title=" " alt="" coords="250,229,341,256"/>
<area shape="rect" href="list__impl_8h.html" title=" " alt="" coords="364,155,454,181"/>
<area shape="rect" title=" " alt="" coords="365,229,461,256"/>
</map>
</div>
</div>
<p><a href="htbl_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhtbl__t.html">htbl_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab5b59d969356f69c1016f3dcc3ed72b3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="htbl_8h.html#ab5b59d969356f69c1016f3dcc3ed72b3">HTBL_VALUE_MULTI</a>(x)&#160;&#160;&#160;<a class="el" href="htbl_8h.html#a0d2d6815c34c1ce1e82c3c0f39eb76a2">htbl_value_multi</a>(x)</td></tr>
<tr class="separator:ab5b59d969356f69c1016f3dcc3ed72b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abcfcd47ef71717b7b88bd20850592e3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="htbl_8h.html#abcfcd47ef71717b7b88bd20850592e3b">htbl_create</a> (<a class="el" href="structhtbl__t.html">htbl_t</a> *htbl, size_t tbl_sz, size_t key_sz, bool_t multi_value)</td></tr>
<tr class="separator:abcfcd47ef71717b7b88bd20850592e3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff88c3b81bd2226f60a9b3bbc9865c86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="htbl_8h.html#aff88c3b81bd2226f60a9b3bbc9865c86">htbl_destroy</a> (<a class="el" href="structhtbl__t.html">htbl_t</a> *htbl)</td></tr>
<tr class="separator:aff88c3b81bd2226f60a9b3bbc9865c86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dfaf9e203e5b7b089c31b7821ba29d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="htbl_8h.html#a3dfaf9e203e5b7b089c31b7821ba29d0">htbl_empty</a> (<a class="el" href="structhtbl__t.html">htbl_t</a> *htbl, void(*func)(void *value, void *userinfo), void *userinfo)</td></tr>
<tr class="separator:a3dfaf9e203e5b7b089c31b7821ba29d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf69b28398b68e98de60c76ca98f3c9b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="htbl_8h.html#abf69b28398b68e98de60c76ca98f3c9b">htbl_count</a> (const <a class="el" href="structhtbl__t.html">htbl_t</a> *htbl)</td></tr>
<tr class="separator:abf69b28398b68e98de60c76ca98f3c9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88d645f2bea53d9a6723c363794f4f54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="htbl_8h.html#a88d645f2bea53d9a6723c363794f4f54">htbl_set</a> (<a class="el" href="structhtbl__t.html">htbl_t</a> *htbl, const void *key, void *value)</td></tr>
<tr class="separator:a88d645f2bea53d9a6723c363794f4f54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1b155e7115a03a19adca3c62120688c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="htbl_8h.html#ac1b155e7115a03a19adca3c62120688c">htbl_remove</a> (<a class="el" href="structhtbl__t.html">htbl_t</a> *htbl, const void *key, bool_t nil_ok)</td></tr>
<tr class="separator:ac1b155e7115a03a19adca3c62120688c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ef869e30605d7a3aa8b3c18817cc6b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="htbl_8h.html#a3ef869e30605d7a3aa8b3c18817cc6b1">htbl_remove_multi</a> (<a class="el" href="structhtbl__t.html">htbl_t</a> *htbl, const void *key, htbl_multi_value_t *list_item)</td></tr>
<tr class="separator:a3ef869e30605d7a3aa8b3c18817cc6b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28bd05cab4bf9f4896317f19c574047e"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="htbl_8h.html#a28bd05cab4bf9f4896317f19c574047e">htbl_lookup</a> (const <a class="el" href="structhtbl__t.html">htbl_t</a> *htbl, const void *key)</td></tr>
<tr class="separator:a28bd05cab4bf9f4896317f19c574047e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a248883027609880b0caab6b6acb0fa07"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structlist__t.html">list_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="htbl_8h.html#a248883027609880b0caab6b6acb0fa07">htbl_lookup_multi</a> (const <a class="el" href="structhtbl__t.html">htbl_t</a> *htbl, const void *key)</td></tr>
<tr class="separator:a248883027609880b0caab6b6acb0fa07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d2d6815c34c1ce1e82c3c0f39eb76a2"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="htbl_8h.html#a0d2d6815c34c1ce1e82c3c0f39eb76a2">htbl_value_multi</a> (htbl_multi_value_t *mv)</td></tr>
<tr class="separator:a0d2d6815c34c1ce1e82c3c0f39eb76a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fdbefff05a579f2b06b064c52ae7f5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="htbl_8h.html#a2fdbefff05a579f2b06b064c52ae7f5b">htbl_foreach</a> (const <a class="el" href="structhtbl__t.html">htbl_t</a> *htbl, void(*func)(const void *key, void *value, void *userinfo), void *userinfo)</td></tr>
<tr class="separator:a2fdbefff05a579f2b06b064c52ae7f5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43e24d603598d8c31216278197346459"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="htbl_8h.html#a43e24d603598d8c31216278197346459">htbl_dump</a> (const <a class="el" href="structhtbl__t.html">htbl_t</a> *htbl, bool_t printable_keys)</td></tr>
<tr class="separator:a43e24d603598d8c31216278197346459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d588ff4981651cb2c591ff113954ccc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="htbl_8h.html#a1d588ff4981651cb2c591ff113954ccc">htbl_free</a> (void *obj, void *unused)</td></tr>
<tr class="separator:a1d588ff4981651cb2c591ff113954ccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This module implements a simple general-purpose hash table. </p><dl class="section note"><dt>Note</dt><dd>The hash table functionality is dependent on the CRC64 subsystem, so be sure to call <a class="el" href="crc64_8h.html#a5dc2cf1a92b4e13cac81b60d77bf340f">crc64_init()</a> before initializing the first hash table. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structhtbl__t.html">htbl_t</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="htbl_8h_source.html">htbl.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ab5b59d969356f69c1016f3dcc3ed72b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5b59d969356f69c1016f3dcc3ed72b3">&#9670;&nbsp;</a></span>HTBL_VALUE_MULTI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTBL_VALUE_MULTI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="htbl_8h.html#a0d2d6815c34c1ce1e82c3c0f39eb76a2">htbl_value_multi</a>(x)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Legacy backwards compatibility macro that just invokes <a class="el" href="htbl_8h.html#a0d2d6815c34c1ce1e82c3c0f39eb76a2">htbl_value_multi()</a>. </p>

<p class="definition">Definition at line <a class="el" href="htbl_8h_source.html#l00088">88</a> of file <a class="el" href="htbl_8h_source.html">htbl.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="abf69b28398b68e98de60c76ca98f3c9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf69b28398b68e98de60c76ca98f3c9b">&#9670;&nbsp;</a></span>htbl_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t htbl_count </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structhtbl__t.html">htbl_t</a> *&#160;</td>
          <td class="paramname"><em>htbl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The number of values stored in the hash table. </dd></dl>

<p class="definition">Definition at line <a class="el" href="htbl_8c_source.html#l00180">180</a> of file <a class="el" href="htbl_8c_source.html">htbl.c</a>.</p>

</div>
</div>
<a id="abcfcd47ef71717b7b88bd20850592e3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcfcd47ef71717b7b88bd20850592e3b">&#9670;&nbsp;</a></span>htbl_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void htbl_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhtbl__t.html">htbl_t</a> *&#160;</td>
          <td class="paramname"><em>htbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>tbl_sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>key_sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool_t&#160;</td>
          <td class="paramname"><em>multi_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes a new hash table. </p><dl class="section note"><dt>Note</dt><dd>The hash table functionality is dependent on the CRC64 subsystem, so be sure to call <a class="el" href="crc64_8h.html#a5dc2cf1a92b4e13cac81b60d77bf340f">crc64_init()</a> before initializing the first hash table. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">htbl</td><td>Pointer to the hash table which is to be initialized. </td></tr>
    <tr><td class="paramname">tbl_sz</td><td>Hash table size. Once initialized, hash tables retain a fixed size and cannot be changed, so pick a size wisely here. The size affects the hash table's memory-vs-time performance. The bigger the hash table, the less of a chance of hash collisions requiring an extensive search, but that also uses more memory. A good rule of thumb is to size the hash table to double the maximum number of elements expected to be in the hash table. </td></tr>
    <tr><td class="paramname">key_sz</td><td>Size of the hash keys to be used in the hash table. This will be the size of the <code>key</code> objects used in <a class="el" href="htbl_8h.html#a28bd05cab4bf9f4896317f19c574047e">htbl_lookup()</a>, <a class="el" href="htbl_8h.html#a88d645f2bea53d9a6723c363794f4f54">htbl_set()</a> and similar. </td></tr>
    <tr><td class="paramname">multi_value</td><td>Controls whether the hash table will support duplicate values. This then changes how you need to look up entries inside of the hash table (see <a class="el" href="htbl_8h.html#a28bd05cab4bf9f4896317f19c574047e">htbl_lookup()</a> and <a class="el" href="htbl_8h.html#a248883027609880b0caab6b6acb0fa07">htbl_lookup_multi()</a>). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="htbl_8c_source.html#l00080">80</a> of file <a class="el" href="htbl_8c_source.html">htbl.c</a>.</p>

</div>
</div>
<a id="aff88c3b81bd2226f60a9b3bbc9865c86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff88c3b81bd2226f60a9b3bbc9865c86">&#9670;&nbsp;</a></span>htbl_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void htbl_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhtbl__t.html">htbl_t</a> *&#160;</td>
          <td class="paramname"><em>htbl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deinitializes a hash table which was initialized using <a class="el" href="htbl_8h.html#abcfcd47ef71717b7b88bd20850592e3b">htbl_create()</a>. The hash table must be empty at the time that <a class="el" href="htbl_8h.html#aff88c3b81bd2226f60a9b3bbc9865c86">htbl_destroy()</a> is called. If you want to quickly empty the entire hash table, see <a class="el" href="htbl_8h.html#a3dfaf9e203e5b7b089c31b7821ba29d0">htbl_empty()</a>. </p><dl class="section note"><dt>Note</dt><dd>This <b>doesn't</b> call free() on the <a class="el" href="structhtbl__t.html">htbl_t</a> argument. If you have dynamically allocated the <a class="el" href="structhtbl__t.html">htbl_t</a> object, you will need to free it yourself after calling <a class="el" href="htbl_8h.html#aff88c3b81bd2226f60a9b3bbc9865c86">htbl_destroy()</a>. Also note that simply free()ing a <a class="el" href="structhtbl__t.html">htbl_t</a> isn't enough to free all memory associated with a hash table. You <b>must</b> call <a class="el" href="htbl_8h.html#aff88c3b81bd2226f60a9b3bbc9865c86">htbl_destroy()</a> on every hash table which you have initialized using <a class="el" href="htbl_8h.html#abcfcd47ef71717b7b88bd20850592e3b">htbl_create()</a>. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="htbl_8h.html#abcfcd47ef71717b7b88bd20850592e3b">htbl_create()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="htbl_8c_source.html#l00112">112</a> of file <a class="el" href="htbl_8c_source.html">htbl.c</a>.</p>

</div>
</div>
<a id="a43e24d603598d8c31216278197346459"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43e24d603598d8c31216278197346459">&#9670;&nbsp;</a></span>htbl_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* htbl_dump </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structhtbl__t.html">htbl_t</a> *&#160;</td>
          <td class="paramname"><em>htbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool_t&#160;</td>
          <td class="paramname"><em>printable_keys</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000014">Deprecated:</a></b></dt><dd>Dumps a hash table's context in text form. This has limited usefulness and shouldn't be used too much. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A string containing a printable description of the contents of the hash table. Free with <a class="el" href="core_8h.html#a8f9ec45dfcbfb9fbab71c05303821c85">lacf_free()</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="htbl_8c_source.html#l00476">476</a> of file <a class="el" href="htbl_8c_source.html">htbl.c</a>.</p>

</div>
</div>
<a id="a3dfaf9e203e5b7b089c31b7821ba29d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dfaf9e203e5b7b089c31b7821ba29d0">&#9670;&nbsp;</a></span>htbl_empty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void htbl_empty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhtbl__t.html">htbl_t</a> *&#160;</td>
          <td class="paramname"><em>htbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *value, void *userinfo)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userinfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes all entries from a hash table. This can be used to either reset the hash table to a clean, or to prepare the hash table for deinitialization via <a class="el" href="htbl_8h.html#aff88c3b81bd2226f60a9b3bbc9865c86">htbl_destroy()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>Optional callback, which will be invoked for every element in the hash table, as it's being removed. You can use this to free memory of the table values, or to deinitialize them in some way. The first argument to the function will be the hash table value, while the second one will be the <code>userinfo</code> you provide in this call. If you do not want to use this callback, pass NULL here. If your values only need to be freed using the standard free() function, you can pass <a class="el" href="htbl_8h.html#a1d588ff4981651cb2c591ff113954ccc">htbl_free()</a> in this this argument and setting <code>userinfo</code> to NULL. This is a simple utility function which calls free() using your own heap allocator on every value it receives as part of the <a class="el" href="htbl_8h.html#a3dfaf9e203e5b7b089c31b7821ba29d0">htbl_empty()</a> call. </td></tr>
    <tr><td class="paramname">userinfo</td><td>Optional argument, which will be passed to the <code>func</code> callback above in the second argument. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="htbl_8c_source.html#l00155">155</a> of file <a class="el" href="htbl_8c_source.html">htbl.c</a>.</p>

</div>
</div>
<a id="a2fdbefff05a579f2b06b064c52ae7f5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fdbefff05a579f2b06b064c52ae7f5b">&#9670;&nbsp;</a></span>htbl_foreach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void htbl_foreach </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structhtbl__t.html">htbl_t</a> *&#160;</td>
          <td class="paramname"><em>htbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(const void *key, void *value, void *userinfo)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userinfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Walks the hash table, iterating over each value in the table. It is safe to add or remove entries from the hash table from within the callback, although the walk may not pass over the newly added values. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">htbl</td><td>The hash table to walk. </td></tr>
    <tr><td class="paramname">func</td><td>A callback which will be invoked for every value stored in the hash table. The first and second arguments to the callback will be set to the key and value respectively. The third argument is the value of the <code>userinfo</code> parameter. </td></tr>
    <tr><td class="paramname">userinfo</td><td>Optional parameter which will be passed on to the <code>func</code> argument in the third parameter. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="htbl_8c_source.html#l00414">414</a> of file <a class="el" href="htbl_8c_source.html">htbl.c</a>.</p>

</div>
</div>
<a id="a1d588ff4981651cb2c591ff113954ccc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d588ff4981651cb2c591ff113954ccc">&#9670;&nbsp;</a></span>htbl_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void htbl_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>unused</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Utility function that can be passed in the second argument of <a class="el" href="htbl_8h.html#a3dfaf9e203e5b7b089c31b7821ba29d0">htbl_empty()</a> if your values only require a standard C <code>free()</code> call using your own heap allocator. You can use this as a shorthand to freeing all the values in a hash table, instead of having to write a custom callback every time. </p><dl class="section note"><dt>Note</dt><dd>This <b>only</b> calls <code>free()</code> and does no other deinitialization of the memory pointed to by the hash table value. Do NOT use this if your values need more complex deinitialization. </dd></dl>

<p class="definition">Definition at line <a class="el" href="htbl_8h_source.html#l00106">106</a> of file <a class="el" href="htbl_8h_source.html">htbl.h</a>.</p>

</div>
</div>
<a id="a28bd05cab4bf9f4896317f19c574047e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28bd05cab4bf9f4896317f19c574047e">&#9670;&nbsp;</a></span>htbl_lookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* htbl_lookup </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structhtbl__t.html">htbl_t</a> *&#160;</td>
          <td class="paramname"><em>htbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a hash table lookup. The hash table must have been initialized with <code>multi_value</code> set to <code>B_FALSE</code> in <a class="el" href="htbl_8h.html#abcfcd47ef71717b7b88bd20850592e3b">htbl_create()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key under which the value was stored. This must point to a memory buffer of size <code>key_sz</code> as passed in the initial <a class="el" href="htbl_8h.html#abcfcd47ef71717b7b88bd20850592e3b">htbl_create()</a> call. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The original <code>value</code> which was stored under the key, if it exists in the hash table. If no value was stored under <code>key</code>, this returns NULL instead. </dd></dl>

<p class="definition">Definition at line <a class="el" href="htbl_8c_source.html#l00371">371</a> of file <a class="el" href="htbl_8c_source.html">htbl.c</a>.</p>

</div>
</div>
<a id="a248883027609880b0caab6b6acb0fa07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a248883027609880b0caab6b6acb0fa07">&#9670;&nbsp;</a></span>htbl_lookup_multi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structlist__t.html">list_t</a>* htbl_lookup_multi </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structhtbl__t.html">htbl_t</a> *&#160;</td>
          <td class="paramname"><em>htbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a hash table lookup. The hash table must have been initialized with <code>multi_value</code> set to <code>B_TRUE</code> in <a class="el" href="htbl_8h.html#abcfcd47ef71717b7b88bd20850592e3b">htbl_create()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key under which the value was stored. This must point to a memory buffer of size <code>key_sz</code> as passed in the initial <a class="el" href="htbl_8h.html#abcfcd47ef71717b7b88bd20850592e3b">htbl_create()</a> call. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If at least one value exists stored under <code>key</code>, this function returns a <code><a class="el" href="structlist__t.html">list_t</a></code> of <code>htbl_multi_value_t</code> structures. You must <b>not</b> modify any of the fields of the returned structure, only access the value stored within using <a class="el" href="htbl_8h.html#a0d2d6815c34c1ce1e82c3c0f39eb76a2">htbl_value_multi()</a>. </dd>
<dd>
If no values are stored under <code>key</code>, returns NULL. </dd></dl>

<p class="definition">Definition at line <a class="el" href="htbl_8c_source.html#l00393">393</a> of file <a class="el" href="htbl_8c_source.html">htbl.c</a>.</p>

</div>
</div>
<a id="ac1b155e7115a03a19adca3c62120688c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1b155e7115a03a19adca3c62120688c">&#9670;&nbsp;</a></span>htbl_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void htbl_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhtbl__t.html">htbl_t</a> *&#160;</td>
          <td class="paramname"><em>htbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool_t&#160;</td>
          <td class="paramname"><em>nil_ok</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes a value from a hash table. If the hash table was created with <code>multi_value</code> set to <code>B_TRUE</code> in <a class="el" href="htbl_8h.html#abcfcd47ef71717b7b88bd20850592e3b">htbl_create()</a>, then this will remove <b>all</b> values stored under <code>key</code>. If you want more fine-grained control over which values to remove in a multi-value table, use <a class="el" href="htbl_8h.html#a3ef869e30605d7a3aa8b3c18817cc6b1">htbl_remove_multi()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key under which the value was stored. This must point to a memory buffer of size <code>key_sz</code> as passed in the initial <a class="el" href="htbl_8h.html#abcfcd47ef71717b7b88bd20850592e3b">htbl_create()</a> call. </td></tr>
    <tr><td class="paramname">nil_ok</td><td>If set to <code>B_TRUE</code>, the value not existing in the hash table is considered OK. If set to <code>B_FALSE</code>, if the value in the hash table doesn't exist, an assertion failure is triggered. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="htbl_8c_source.html#l00266">266</a> of file <a class="el" href="htbl_8c_source.html">htbl.c</a>.</p>

</div>
</div>
<a id="a3ef869e30605d7a3aa8b3c18817cc6b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ef869e30605d7a3aa8b3c18817cc6b1">&#9670;&nbsp;</a></span>htbl_remove_multi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void htbl_remove_multi </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhtbl__t.html">htbl_t</a> *&#160;</td>
          <td class="paramname"><em>htbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">htbl_multi_value_t *&#160;</td>
          <td class="paramname"><em>list_item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes a single value from a multi-value enabled hash table. The normal <a class="el" href="htbl_8h.html#ac1b155e7115a03a19adca3c62120688c">htbl_remove()</a> function removes all values paired to a single key, so this function gives you finer control to only remove specific values. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key for which to remove the value. </td></tr>
    <tr><td class="paramname">list_item</td><td>The htbl_multi_value_t as contained in the list returned by <a class="el" href="htbl_8h.html#a248883027609880b0caab6b6acb0fa07">htbl_lookup_multi()</a>. </td></tr>
  </table>
  </dd>
</dl>
<h4><a class="anchor" id="autotoc_md11"></a>
Example</h4>
<div class="fragment"><div class="line"><a class="code" href="structlist__t.html">list_t</a> *values = <a class="code" href="htbl_8h.html#a248883027609880b0caab6b6acb0fa07">htbl_lookup_multi</a>(my_hash_table, my_key);</div>
<div class="line"><span class="keywordflow">if</span> (values != NULL) {</div>
<div class="line">   <span class="keywordflow">for</span> (htbl_multi_value_t *mv = <a class="code" href="list_8h.html#a19992f20adf9d4f271feffa6cbb532c1">list_head</a>(values), *mv_next = NULL;</div>
<div class="line">       mv != NULL; mv = mv_next) {</div>
<div class="line">       <span class="comment">// Get the next element in the list early, in case we need</span></div>
<div class="line">       <span class="comment">// to remove the current one (which would mean we can no</span></div>
<div class="line">       <span class="comment">// longer use it in list_next()).</span></div>
<div class="line">       mv_next = <a class="code" href="list_8h.html#a9bce03174cd33b6f6cc191c53cbfc48e">list_next</a>(values, mv);</div>
<div class="line">       <span class="keywordflow">if</span> (want_to_remove_this_item(<a class="code" href="htbl_8h.html#a0d2d6815c34c1ce1e82c3c0f39eb76a2">htbl_value_multi</a>(mv)) {</div>
<div class="line">           <a class="code" href="htbl_8h.html#a3ef869e30605d7a3aa8b3c18817cc6b1">htbl_remove_multi</a>(my_hash_table, my_key, mv);</div>
<div class="line">       }</div>
<div class="line">   }</div>
<div class="line">}</div>
<div class="ttc" id="ahtbl_8h_html_a0d2d6815c34c1ce1e82c3c0f39eb76a2"><div class="ttname"><a href="htbl_8h.html#a0d2d6815c34c1ce1e82c3c0f39eb76a2">htbl_value_multi</a></div><div class="ttdeci">void * htbl_value_multi(htbl_multi_value_t *mv)</div><div class="ttdef"><b>Definition:</b> <a href="htbl_8c_source.html#l00462">htbl.c:462</a></div></div>
<div class="ttc" id="ahtbl_8h_html_a248883027609880b0caab6b6acb0fa07"><div class="ttname"><a href="htbl_8h.html#a248883027609880b0caab6b6acb0fa07">htbl_lookup_multi</a></div><div class="ttdeci">const list_t * htbl_lookup_multi(const htbl_t *htbl, const void *key)</div><div class="ttdef"><b>Definition:</b> <a href="htbl_8c_source.html#l00393">htbl.c:393</a></div></div>
<div class="ttc" id="ahtbl_8h_html_a3ef869e30605d7a3aa8b3c18817cc6b1"><div class="ttname"><a href="htbl_8h.html#a3ef869e30605d7a3aa8b3c18817cc6b1">htbl_remove_multi</a></div><div class="ttdeci">void htbl_remove_multi(htbl_t *htbl, const void *key, htbl_multi_value_t *list_item)</div><div class="ttdef"><b>Definition:</b> <a href="htbl_8c_source.html#l00318">htbl.c:318</a></div></div>
<div class="ttc" id="alist_8h_html_a19992f20adf9d4f271feffa6cbb532c1"><div class="ttname"><a href="list_8h.html#a19992f20adf9d4f271feffa6cbb532c1">list_head</a></div><div class="ttdeci">void * list_head(const list_t *)</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00292">list.c:292</a></div></div>
<div class="ttc" id="alist_8h_html_a9bce03174cd33b6f6cc191c53cbfc48e"><div class="ttname"><a href="list_8h.html#a9bce03174cd33b6f6cc191c53cbfc48e">list_next</a></div><div class="ttdeci">void * list_next(const list_t *, const void *)</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00344">list.c:344</a></div></div>
<div class="ttc" id="astructlist__t_html"><div class="ttname"><a href="structlist__t.html">list_t</a></div></div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="htbl_8c_source.html#l00318">318</a> of file <a class="el" href="htbl_8c_source.html">htbl.c</a>.</p>

</div>
</div>
<a id="a88d645f2bea53d9a6723c363794f4f54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88d645f2bea53d9a6723c363794f4f54">&#9670;&nbsp;</a></span>htbl_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void htbl_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhtbl__t.html">htbl_t</a> *&#160;</td>
          <td class="paramname"><em>htbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stores a new value in a hash table. If the value already exists, what happens depends on whether the hash table was created with <code>multi_value</code> set to <code>B_TRUE</code> or <code>B_FALSE</code> in <a class="el" href="htbl_8h.html#abcfcd47ef71717b7b88bd20850592e3b">htbl_create()</a>:</p><ul>
<li>If multi-values were disabled, the old value is transparently replaced in the hash table.</li>
<li>If multi-values were enable, the new value is stored side-by-side in the hash table. You can then find both values in the hash table using <a class="el" href="htbl_8h.html#a248883027609880b0caab6b6acb0fa07">htbl_lookup_multi()</a>. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The hash key under which to store the value. This must point to a memory buffer of size <code>key_sz</code> as passed in the initial <a class="el" href="htbl_8h.html#abcfcd47ef71717b7b88bd20850592e3b">htbl_create()</a> call. The key itself is copied into the hash table, so you don't have to keep the memory pointed at by <code>key</code> allocated after the call to <a class="el" href="htbl_8h.html#a88d645f2bea53d9a6723c363794f4f54">htbl_set()</a> returns. </td></tr>
    <tr><td class="paramname">value</td><td>The value which will be stored under <code>key</code>. Hash table values are stored by reference, so be sure <b>not</b> to de-allocate object pointed to by <code>value</code>, if you need to dereference the stored pointer. </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="htbl_8c_source.html#l00218">218</a> of file <a class="el" href="htbl_8c_source.html">htbl.c</a>.</p>

</div>
</div>
<a id="a0d2d6815c34c1ce1e82c3c0f39eb76a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d2d6815c34c1ce1e82c3c0f39eb76a2">&#9670;&nbsp;</a></span>htbl_value_multi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* htbl_value_multi </td>
          <td>(</td>
          <td class="paramtype">htbl_multi_value_t *&#160;</td>
          <td class="paramname"><em>mv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The value contained in a multi-value element, which are the contents of the <a class="el" href="structlist__t.html">list_t</a> returned from <a class="el" href="htbl_8h.html#a248883027609880b0caab6b6acb0fa07">htbl_lookup_multi()</a>.</dd></dl>
<h4><a class="anchor" id="autotoc_md12"></a>
Example</h4>
<div class="fragment"><div class="line"><a class="code" href="structhtbl__t.html">htbl_t</a> *my_hash_table = ...; <span class="comment">// previously initialized hash table</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="structlist__t.html">list_t</a> *values = <a class="code" href="htbl_8h.html#a248883027609880b0caab6b6acb0fa07">htbl_lookup_multi</a>(my_hash_table, my_key);</div>
<div class="line"><span class="keywordflow">if</span> (values != NULL) {</div>
<div class="line">   <span class="comment">// key found in hash table, walk the list of values</span></div>
<div class="line">   <span class="keywordflow">for</span> (htbl_multi_value_t *mv = <a class="code" href="list_8h.html#a19992f20adf9d4f271feffa6cbb532c1">list_head</a>(values); mv != NULL;</div>
<div class="line">       mv = <a class="code" href="list_8h.html#a9bce03174cd33b6f6cc191c53cbfc48e">list_next</a>(values, mv)) {</div>
<div class="line">       my_struct_t *value = <a class="code" href="htbl_8h.html#a0d2d6815c34c1ce1e82c3c0f39eb76a2">htbl_value_multi</a>(mv);</div>
<div class="line">       <span class="comment">// do something with `value&#39;</span></div>
<div class="line">   }</div>
<div class="line">}</div>
<div class="ttc" id="astructhtbl__t_html"><div class="ttname"><a href="structhtbl__t.html">htbl_t</a></div><div class="ttdef"><b>Definition:</b> <a href="htbl_8h_source.html#l00060">htbl.h:60</a></div></div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="htbl_8c_source.html#l00462">462</a> of file <a class="el" href="htbl_8c_source.html">htbl.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
