<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libacfutils: acfutils/safe_alloc.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libacfutils
   </div>
   <div id="projectbrief">A general purpose library of utility functions designed to make it easier to develop addons for the X-Plane flight simulator.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2f18166f86af4fcbeaddefb60d5355e9.html">acfutils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">safe_alloc.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="assert_8h_source.html">assert.h</a>&quot;</code><br />
<code>#include &quot;sysmacros.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for safe_alloc.h:</div>
<div class="dyncontent">
<div class="center"><img src="safe__alloc_8h__incl.png" border="0" usemap="#aacfutils_2safe__alloc_8h" alt=""/></div>
<map name="aacfutils_2safe__alloc_8h" id="aacfutils_2safe__alloc_8h">
<area shape="rect" title=" " alt="" coords="87,5,239,32"/>
<area shape="rect" title=" " alt="" coords="5,80,76,107"/>
<area shape="rect" title=" " alt="" coords="155,453,225,480"/>
<area shape="rect" href="assert_8h.html" title=" " alt="" coords="194,80,269,107"/>
<area shape="rect" href="sysmacros_8h_source.html" title=" " alt="" coords="447,229,551,256"/>
<area shape="rect" href="log_8h.html" title=" " alt="" coords="229,155,284,181"/>
<area shape="rect" title=" " alt="" coords="202,229,277,256"/>
<area shape="rect" title=" " alt="" coords="301,229,423,256"/>
<area shape="rect" href="types_8h_source.html" title=" " alt="" coords="348,304,419,331"/>
<area shape="rect" title=" " alt="" coords="253,379,324,405"/>
<area shape="rect" title=" " alt="" coords="348,379,419,405"/>
<area shape="rect" href="core_8h.html" title=" " alt="" coords="443,379,505,405"/>
<area shape="rect" href="libconfig_8h_source.html" title=" " alt="" coords="429,453,519,480"/>
</map>
</div>
</div>
<p><a href="safe__alloc_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a578aada848ef29ecdcdd7f9650475797"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="safe__alloc_8h.html#a578aada848ef29ecdcdd7f9650475797">ZERO_FREE</a>(ptr)</td></tr>
<tr class="separator:a578aada848ef29ecdcdd7f9650475797"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c55bb2cb4b61fa3ea111470c047c43d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="safe__alloc_8h.html#a5c55bb2cb4b61fa3ea111470c047c43d">DESTROY_FREE</a>(ptr)</td></tr>
<tr class="separator:a5c55bb2cb4b61fa3ea111470c047c43d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af641f79c2c4a711aa6baa4fb3b0d72cc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="safe__alloc_8h.html#af641f79c2c4a711aa6baa4fb3b0d72cc">ZERO_FREE_N</a>(ptr,  num)</td></tr>
<tr class="separator:af641f79c2c4a711aa6baa4fb3b0d72cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af13fdc07e3264a73dfdd0b329565ac2f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="safe__alloc_8h.html#af13fdc07e3264a73dfdd0b329565ac2f">DESTROY_FREE_N</a>(ptr,  num)</td></tr>
<tr class="separator:af13fdc07e3264a73dfdd0b329565ac2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a759a8fa73a1f7f859edf775dd6d76dde"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="safe__alloc_8h.html#a759a8fa73a1f7f859edf775dd6d76dde">BZERO</a>(data)&#160;&#160;&#160;memset((data), 0, sizeof (*(data)))</td></tr>
<tr class="separator:a759a8fa73a1f7f859edf775dd6d76dde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a601bef5ebbd768105bdf40337a884b35"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="safe__alloc_8h.html#a601bef5ebbd768105bdf40337a884b35">SAFE_BZERO</a>(data)</td></tr>
<tr class="separator:a601bef5ebbd768105bdf40337a884b35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7548137d093d63064f1972b9d160ff74"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="safe__alloc_8h.html#a7548137d093d63064f1972b9d160ff74">safe_malloc</a> (size_t size)</td></tr>
<tr class="separator:a7548137d093d63064f1972b9d160ff74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d9fda542019d718b3566ba4f01800c1"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="safe__alloc_8h.html#a8d9fda542019d718b3566ba4f01800c1">safe_calloc</a> (size_t nmemb, size_t size)</td></tr>
<tr class="separator:a8d9fda542019d718b3566ba4f01800c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f32a56587b5252c01a2304b3e44d658"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="safe__alloc_8h.html#a9f32a56587b5252c01a2304b3e44d658">safe_realloc</a> (void *oldptr, size_t size)</td></tr>
<tr class="separator:a9f32a56587b5252c01a2304b3e44d658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac288e180c613af117aa0d5a7279d4f1a"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="safe__alloc_8h.html#ac288e180c613af117aa0d5a7279d4f1a">safe_strdup</a> (const char *str2)</td></tr>
<tr class="separator:ac288e180c613af117aa0d5a7279d4f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaae1b664606ff3c5375676c0ec39152e"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="safe__alloc_8h.html#aaae1b664606ff3c5375676c0ec39152e">safe_append_realloc</a> (char *buf, const char *str)</td></tr>
<tr class="separator:aaae1b664606ff3c5375676c0ec39152e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a759a8fa73a1f7f859edf775dd6d76dde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a759a8fa73a1f7f859edf775dd6d76dde">&#9670;&nbsp;</a></span>BZERO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BZERO</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data</td><td>)</td>
          <td>&#160;&#160;&#160;memset((data), 0, sizeof (*(data)))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a zeroing of the <code>data</code> buffer. Please note that <code>sizeof</code> must return the correct size of the data to be zeroed. Thus this is intended to be used fixed-size arrays. </p>

<p class="definition">Definition at line <a class="el" href="safe__alloc_8h_source.html#l00186">186</a> of file <a class="el" href="safe__alloc_8h_source.html">safe_alloc.h</a>.</p>

</div>
</div>
<a id="a5c55bb2cb4b61fa3ea111470c047c43d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c55bb2cb4b61fa3ea111470c047c43d">&#9670;&nbsp;</a></span>DESTROY_FREE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DESTROY_FREE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> { \</div>
<div class="line">        ZERO_FREE(ptr); \</div>
<div class="line">        (ptr) = NULL; \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p>Same as <a class="el" href="safe__alloc_8h.html#a578aada848ef29ecdcdd7f9650475797">ZERO_FREE()</a>, but also sets <code>ptr</code> to NULL after freeing. </p>

<p class="definition">Definition at line <a class="el" href="safe__alloc_8h_source.html#l00154">154</a> of file <a class="el" href="safe__alloc_8h_source.html">safe_alloc.h</a>.</p>

</div>
</div>
<a id="af13fdc07e3264a73dfdd0b329565ac2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af13fdc07e3264a73dfdd0b329565ac2f">&#9670;&nbsp;</a></span>DESTROY_FREE_N</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DESTROY_FREE_N</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">num&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> { \</div>
<div class="line">        ZERO_FREE_N((ptr), (num)); \</div>
<div class="line">        (ptr) = NULL; \</div>
<div class="line">    while (0)</div>
</div><!-- fragment --><p>Same as <a class="el" href="safe__alloc_8h.html#af641f79c2c4a711aa6baa4fb3b0d72cc">ZERO_FREE_N()</a>, but also sets <code>ptr</code> to NULL after freeing. </p>

<p class="definition">Definition at line <a class="el" href="safe__alloc_8h_source.html#l00175">175</a> of file <a class="el" href="safe__alloc_8h_source.html">safe_alloc.h</a>.</p>

</div>
</div>
<a id="a601bef5ebbd768105bdf40337a884b35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a601bef5ebbd768105bdf40337a884b35">&#9670;&nbsp;</a></span>SAFE_BZERO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SAFE_BZERO</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> { \</div>
<div class="line">        if ((data) != NULL) \</div>
<div class="line">            BZERO(data); \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p>If <code>data</code> is not <code>NULL</code>, performs a <a class="el" href="safe__alloc_8h.html#a759a8fa73a1f7f859edf775dd6d76dde">BZERO</a> on the data. </p>

<p class="definition">Definition at line <a class="el" href="safe__alloc_8h_source.html#l00191">191</a> of file <a class="el" href="safe__alloc_8h_source.html">safe_alloc.h</a>.</p>

</div>
</div>
<a id="a578aada848ef29ecdcdd7f9650475797"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a578aada848ef29ecdcdd7f9650475797">&#9670;&nbsp;</a></span>ZERO_FREE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZERO_FREE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> { \</div>
<div class="line">        NOT_TYPE_ASSERT(ptr, <span class="keywordtype">void</span> *); \</div>
<div class="line">        NOT_TYPE_ASSERT(ptr, <span class="keywordtype">char</span> *); \</div>
<div class="line">        if ((ptr) != NULL) \</div>
<div class="line">            memset((ptr), 0, <span class="keyword">sizeof</span> (*(ptr))); \</div>
<div class="line">        free(ptr); \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p>If <code>ptr</code> is not a <code>NULL</code> pointer, the contained data is first zeroed, and subsequently deallocated using free(). This is useful for making sure nothing remains of a buffer after freeing, thus preventing potentially attempting to read its contents and seeing valid data (use-after-free).</p>
<p>N.B. this macro relies on <code>sizeof</code> returning the correct size of this data buffer, so it should only be used on single struct buffers, not arrays. </p>

<p class="definition">Definition at line <a class="el" href="safe__alloc_8h_source.html#l00143">143</a> of file <a class="el" href="safe__alloc_8h_source.html">safe_alloc.h</a>.</p>

</div>
</div>
<a id="af641f79c2c4a711aa6baa4fb3b0d72cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af641f79c2c4a711aa6baa4fb3b0d72cc">&#9670;&nbsp;</a></span>ZERO_FREE_N</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZERO_FREE_N</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">num&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> { \</div>
<div class="line">        NOT_TYPE_ASSERT(ptr, <span class="keywordtype">void</span> *); \</div>
<div class="line">        if ((ptr) != NULL) \</div>
<div class="line">            memset((ptr), 0, <span class="keyword">sizeof</span> (*(ptr)) * (num)); \</div>
<div class="line">        free(ptr); \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p>Same as <a class="el" href="safe__alloc_8h.html#a578aada848ef29ecdcdd7f9650475797">ZERO_FREE</a>, but takes an explicit array element count argument. This is the variant of the <a class="el" href="safe__alloc_8h.html#a578aada848ef29ecdcdd7f9650475797">ZERO_FREE</a> macro to be used on arrays of objects, rather than single objects. </p>

<p class="definition">Definition at line <a class="el" href="safe__alloc_8h_source.html#l00165">165</a> of file <a class="el" href="safe__alloc_8h_source.html">safe_alloc.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aaae1b664606ff3c5375676c0ec39152e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaae1b664606ff3c5375676c0ec39152e">&#9670;&nbsp;</a></span>safe_append_realloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* safe_append_realloc </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Concatenates <code>str</code> onto the end of <code>buf</code>, enlarging it as necessary. If memory cannot be allocated to hold the new string, this crashes with an assertion failure. This is using the <a class="el" href="safe__alloc_8h.html#a7548137d093d63064f1972b9d160ff74">safe_malloc()</a> machinery underneath, so all the same rules apply. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Buffer to append to. If this argument is <code>NULL</code>, a new buffer is allocated. Otherwise, the buffer is <a class="el" href="safe__alloc_8h.html#a9f32a56587b5252c01a2304b3e44d658">safe_realloc()</a>d to contain the new concatenated string. </td></tr>
    <tr><td class="paramname">str</td><td>The input string to append onto the end of <code>buf</code>. This must NOT be <code>NULL</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The new combined buffer holding a concatenation of <code>buf</code> and <code>str</code>. Please note that since reallocation may occur, you must not reuse the old <code>buf</code> pointer value after calling <a class="el" href="safe__alloc_8h.html#aaae1b664606ff3c5375676c0ec39152e">safe_append_realloc()</a>. You should reassign the pointer using the return value of this function. </dd></dl>

<p class="definition">Definition at line <a class="el" href="safe__alloc_8h_source.html#l00120">120</a> of file <a class="el" href="safe__alloc_8h_source.html">safe_alloc.h</a>.</p>

</div>
</div>
<a id="a8d9fda542019d718b3566ba4f01800c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d9fda542019d718b3566ba4f01800c1">&#9670;&nbsp;</a></span>safe_calloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* safe_calloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nmemb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Same as <a class="el" href="safe__alloc_8h.html#a7548137d093d63064f1972b9d160ff74">safe_malloc()</a>, except it calls calloc() on the back-end and behaves exactly the standard calloc() function. </p>

<p class="definition">Definition at line <a class="el" href="safe__alloc_8h_source.html#l00062">62</a> of file <a class="el" href="safe__alloc_8h_source.html">safe_alloc.h</a>.</p>

</div>
</div>
<a id="a7548137d093d63064f1972b9d160ff74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7548137d093d63064f1972b9d160ff74">&#9670;&nbsp;</a></span>safe_malloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* safe_malloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Provides a front-end to your compiler's malloc() function, but with automated allocation success checking. In general, you can just replace any calls to malloc() with calls to <a class="el" href="safe__alloc_8h.html#a7548137d093d63064f1972b9d160ff74">safe_malloc()</a> and it will work exactly the same, except in cases where the allocation fails. If the allocation fails, this generates an assertion failure crash with a diagnostic message telling you how many byte failed to be allocated.</p>
<p>N.B. unlike any allocation that you might get returned from within libacfutils, which you should free using <a class="el" href="core_8h.html#a8f9ec45dfcbfb9fbab71c05303821c85">lacf_free()</a>, the pointer returned from this function is allocated your compiler's allocator. Thus you MUST use your normal free() function to free this one. </p>

<p class="definition">Definition at line <a class="el" href="safe__alloc_8h_source.html#l00047">47</a> of file <a class="el" href="safe__alloc_8h_source.html">safe_alloc.h</a>.</p>

</div>
</div>
<a id="a9f32a56587b5252c01a2304b3e44d658"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f32a56587b5252c01a2304b3e44d658">&#9670;&nbsp;</a></span>safe_realloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* safe_realloc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>oldptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Same as <a class="el" href="safe__alloc_8h.html#a7548137d093d63064f1972b9d160ff74">safe_malloc()</a>, except it calls realloc() on the back-end and behaves exactly the standard realloc() function. </p>

<p class="definition">Definition at line <a class="el" href="safe__alloc_8h_source.html#l00077">77</a> of file <a class="el" href="safe__alloc_8h_source.html">safe_alloc.h</a>.</p>

</div>
</div>
<a id="ac288e180c613af117aa0d5a7279d4f1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac288e180c613af117aa0d5a7279d4f1a">&#9670;&nbsp;</a></span>safe_strdup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* safe_strdup </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str2</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Provides an allocation-safe version of strdup(). If the allocation of the required number of bytes fails, this trips an assertion check and causes the application to crash due to having run out of memory. </p>

<p class="definition">Definition at line <a class="el" href="safe__alloc_8h_source.html#l00093">93</a> of file <a class="el" href="safe__alloc_8h_source.html">safe_alloc.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
