<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libacfutils: acfutils/mt_cairo_render.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libacfutils
   </div>
   <div id="projectbrief">A general purpose library of utility functions designed to make it easier to develop addons for the X-Plane flight simulator.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2f18166f86af4fcbeaddefb60d5355e9.html">acfutils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mt_cairo_render.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;cairo.h&gt;</code><br />
<code>#include &lt;cairo-ft.h&gt;</code><br />
<code>#include &lt;ft2build.h&gt;</code><br />
<code>#include &lt;FT_FREETYPE_H&gt;</code><br />
<code>#include &quot;<a class="el" href="geom_8h_source.html">geom.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log_8h_source.html">log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="font__utils_8h_source.html">font_utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cairo__utils_8h_source.html">cairo_utils.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for mt_cairo_render.h:</div>
<div class="dyncontent">
<div class="center"><img src="mt__cairo__render_8h__incl.png" border="0" usemap="#aacfutils_2mt__cairo__render_8h" alt=""/></div>
<map name="aacfutils_2mt__cairo__render_8h" id="aacfutils_2mt__cairo__render_8h">
<area shape="rect" title=" " alt="" coords="263,5,455,32"/>
<area shape="rect" title=" " alt="" coords="422,155,489,181"/>
<area shape="rect" title=" " alt="" coords="5,155,87,181"/>
<area shape="rect" title=" " alt="" coords="111,155,195,181"/>
<area shape="rect" title=" " alt="" coords="271,155,397,181"/>
<area shape="rect" href="geom_8h.html" title=" " alt="" coords="636,80,707,107"/>
<area shape="rect" href="log_8h.html" title=" " alt="" coords="891,379,945,405"/>
<area shape="rect" href="font__utils_8h.html" title=" " alt="" coords="199,80,293,107"/>
<area shape="rect" href="cairo__utils_8h.html" title=" " alt="" coords="422,80,523,107"/>
<area shape="rect" title=" " alt="" coords="664,677,735,704"/>
<area shape="rect" href="math_8h.html" title=" " alt="" coords="683,155,751,181"/>
<area shape="rect" href="sysmacros_8h.html" title=" " alt="" coords="623,453,727,480"/>
<area shape="rect" href="types_8h_source.html" title=" " alt="" coords="541,528,612,555"/>
<area shape="rect" href="assert_8h.html" title=" " alt="" coords="721,304,795,331"/>
<area shape="rect" href="math__core_8h.html" title=" " alt="" coords="665,229,768,256"/>
<area shape="rect" title=" " alt="" coords="1037,453,1111,480"/>
<area shape="rect" title=" " alt="" coords="891,453,1012,480"/>
<area shape="rect" title=" " alt="" coords="664,603,735,629"/>
<area shape="rect" title=" " alt="" coords="517,603,588,629"/>
<area shape="rect" href="core_8h.html" title=" " alt="" coords="431,603,493,629"/>
<area shape="rect" href="libconfig_8h_source.html" title=" " alt="" coords="417,677,507,704"/>
</map>
</div>
</div>
<p><a href="mt__cairo__render_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmtcr__rect__t.html">mtcr_rect_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab1bd2e1672e7c2b5a4fc9731c626a0d2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init</a>(w,  h,  fps,  init_cb,  render_cb,  fini_cb,  userinfo)</td></tr>
<tr class="separator:ab1bd2e1672e7c2b5a4fc9731c626a0d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a028fb273c1bd6cc21749dc78c575a293"><td class="memItemLeft" align="right" valign="top">typedef bool_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#a028fb273c1bd6cc21749dc78c575a293">mt_cairo_init_cb_t</a>) (cairo_t *cr, void *userinfo)</td></tr>
<tr class="separator:a028fb273c1bd6cc21749dc78c575a293"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a8431d260458c0871b743bc803f6a01"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#a9a8431d260458c0871b743bc803f6a01">mt_cairo_fini_cb_t</a>) (cairo_t *cr, void *userinfo)</td></tr>
<tr class="separator:a9a8431d260458c0871b743bc803f6a01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf699310e37ae80b0f8b1b4f06c53fa3"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#acf699310e37ae80b0f8b1b4f06c53fa3">mt_cairo_render_cb_t</a>) (cairo_t *cr, unsigned w, unsigned h, void *userinfo)</td></tr>
<tr class="separator:acf699310e37ae80b0f8b1b4f06c53fa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a70a8ee09b688b2311c92b8feba5dc223"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#a70a8ee09b688b2311c92b8feba5dc223">mt_cairo_render_glob_init</a> (bool_t want_coherent_mem)</td></tr>
<tr class="separator:a70a8ee09b688b2311c92b8feba5dc223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab59b96c6042b0c95e69aba8b12449b21"><td class="memItemLeft" align="right" valign="top">mt_cairo_render_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#ab59b96c6042b0c95e69aba8b12449b21">mt_cairo_render_init_impl</a> (const char *filename, int line, unsigned w, unsigned h, double fps, <a class="el" href="mt__cairo__render_8h.html#a028fb273c1bd6cc21749dc78c575a293">mt_cairo_init_cb_t</a> init_cb, <a class="el" href="mt__cairo__render_8h.html#acf699310e37ae80b0f8b1b4f06c53fa3">mt_cairo_render_cb_t</a> render_cb, <a class="el" href="mt__cairo__render_8h.html#a9a8431d260458c0871b743bc803f6a01">mt_cairo_fini_cb_t</a> fini_cb, void *userinfo)</td></tr>
<tr class="separator:ab59b96c6042b0c95e69aba8b12449b21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a584568806c696b8600561796aa26a6b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#a584568806c696b8600561796aa26a6b2">mt_cairo_render_fini</a> (mt_cairo_render_t *mtcr)</td></tr>
<tr class="separator:a584568806c696b8600561796aa26a6b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af294a21a9f8302a94d7f566ddf79998e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#af294a21a9f8302a94d7f566ddf79998e">mt_cairo_render_set_fps</a> (mt_cairo_render_t *mtcr, double fps)</td></tr>
<tr class="separator:af294a21a9f8302a94d7f566ddf79998e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93a62114a62a7814013c595d99329399"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#a93a62114a62a7814013c595d99329399">mt_cairo_render_get_fps</a> (mt_cairo_render_t *mtcr)</td></tr>
<tr class="separator:a93a62114a62a7814013c595d99329399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7964742bfee01bfa7cd54b8fcf5d46b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#ae7964742bfee01bfa7cd54b8fcf5d46b">mt_cairo_render_enable_fg_mode</a> (mt_cairo_render_t *mtcr)</td></tr>
<tr class="separator:ae7964742bfee01bfa7cd54b8fcf5d46b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae17e64dcc58a523ff35c41df09e85dc7"><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#ae17e64dcc58a523ff35c41df09e85dc7">mt_cairo_render_get_fg_mode</a> (const mt_cairo_render_t *mtcr)</td></tr>
<tr class="separator:ae17e64dcc58a523ff35c41df09e85dc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a224d8e34b4eaa021e15280e3db9328cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#a224d8e34b4eaa021e15280e3db9328cb">mt_cairo_render_set_texture_filter</a> (mt_cairo_render_t *mtcr, unsigned gl_filter_enum)</td></tr>
<tr class="separator:a224d8e34b4eaa021e15280e3db9328cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8722d85a13a77aa0247f574fe53c581f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#a8722d85a13a77aa0247f574fe53c581f">mt_cairo_render_set_shader</a> (mt_cairo_render_t *mtcr, unsigned prog)</td></tr>
<tr class="separator:a8722d85a13a77aa0247f574fe53c581f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a2378b025cf8238212e4b559cdddcbe"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#a0a2378b025cf8238212e4b559cdddcbe">mt_cairo_render_get_shader</a> (mt_cairo_render_t *mtcr)</td></tr>
<tr class="separator:a0a2378b025cf8238212e4b559cdddcbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adea2504bae7326ee79b086b636014700"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#adea2504bae7326ee79b086b636014700">mt_cairo_render_set_monochrome</a> (mt_cairo_render_t *mtcr, <a class="el" href="structvect3__t.html">vect3_t</a> color)</td></tr>
<tr class="separator:adea2504bae7326ee79b086b636014700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09ee3d86ad502e744ce9d277b0f6cbdb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvect3__t.html">vect3_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#a09ee3d86ad502e744ce9d277b0f6cbdb">mt_cairo_render_get_monochrome</a> (const mt_cairo_render_t *mtcr)</td></tr>
<tr class="separator:a09ee3d86ad502e744ce9d277b0f6cbdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc519a49b2baf997426faa947e2e964b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#afc519a49b2baf997426faa947e2e964b">mt_cairo_render_once</a> (mt_cairo_render_t *mtcr)</td></tr>
<tr class="separator:afc519a49b2baf997426faa947e2e964b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07ab5e0f2e052d745c1c04a51d85bfd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#a07ab5e0f2e052d745c1c04a51d85bfd9">mt_cairo_render_once_wait</a> (mt_cairo_render_t *mtcr)</td></tr>
<tr class="separator:a07ab5e0f2e052d745c1c04a51d85bfd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa76e051a4233da8d30a1cfb380e0ec1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#aa76e051a4233da8d30a1cfb380e0ec1d">mt_cairo_render_draw</a> (mt_cairo_render_t *mtcr, <a class="el" href="structvect2__t.html">vect2_t</a> pos, <a class="el" href="structvect2__t.html">vect2_t</a> size)</td></tr>
<tr class="separator:aa76e051a4233da8d30a1cfb380e0ec1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b139023e042e7208e418c863b6bafa7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#a3b139023e042e7208e418c863b6bafa7">mt_cairo_render_draw_subrect</a> (mt_cairo_render_t *mtcr, <a class="el" href="structvect2__t.html">vect2_t</a> src_pos, <a class="el" href="structvect2__t.html">vect2_t</a> src_sz, <a class="el" href="structvect2__t.html">vect2_t</a> pos, <a class="el" href="structvect2__t.html">vect2_t</a> size)</td></tr>
<tr class="separator:a3b139023e042e7208e418c863b6bafa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71b3ede6cb681b10ae6e169f3f3c3f3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#a71b3ede6cb681b10ae6e169f3f3c3f3b">mt_cairo_render_draw_pvm</a> (mt_cairo_render_t *mtcr, <a class="el" href="structvect2__t.html">vect2_t</a> pos, <a class="el" href="structvect2__t.html">vect2_t</a> size, const float *pvm)</td></tr>
<tr class="separator:a71b3ede6cb681b10ae6e169f3f3c3f3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d1bb8b4861d7d3026bd36495f05748"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#af5d1bb8b4861d7d3026bd36495f05748">mt_cairo_render_draw_subrect_pvm</a> (mt_cairo_render_t *mtcr, <a class="el" href="structvect2__t.html">vect2_t</a> src_pos, <a class="el" href="structvect2__t.html">vect2_t</a> src_sz, <a class="el" href="structvect2__t.html">vect2_t</a> pos, <a class="el" href="structvect2__t.html">vect2_t</a> size, const float *pvm)</td></tr>
<tr class="separator:af5d1bb8b4861d7d3026bd36495f05748"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9adcf8c786a7d8590ab6e7d7f5ae432"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#ab9adcf8c786a7d8590ab6e7d7f5ae432">mt_cairo_render_set_uploader</a> (mt_cairo_render_t *mtcr, mt_cairo_uploader_t *mtul)</td></tr>
<tr class="separator:ab9adcf8c786a7d8590ab6e7d7f5ae432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b69002c0a5ea31a84d19f9c681c74b"><td class="memItemLeft" align="right" valign="top">mt_cairo_uploader_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#a29b69002c0a5ea31a84d19f9c681c74b">mt_cairo_render_get_uploader</a> (mt_cairo_render_t *mtcr)</td></tr>
<tr class="separator:a29b69002c0a5ea31a84d19f9c681c74b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4765e98d8f8724b06fa71ae6158e895d"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#a4765e98d8f8724b06fa71ae6158e895d">mt_cairo_render_get_tex</a> (mt_cairo_render_t *mtcr)</td></tr>
<tr class="separator:a4765e98d8f8724b06fa71ae6158e895d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d5acdb4db96fb89b8bcc7d3a09246e8"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#a6d5acdb4db96fb89b8bcc7d3a09246e8">mt_cairo_render_get_width</a> (mt_cairo_render_t *mtcr)</td></tr>
<tr class="separator:a6d5acdb4db96fb89b8bcc7d3a09246e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac014bdae821422448423e7e4d2a3fd2c"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#ac014bdae821422448423e7e4d2a3fd2c">mt_cairo_render_get_height</a> (mt_cairo_render_t *mtcr)</td></tr>
<tr class="separator:ac014bdae821422448423e7e4d2a3fd2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a5743b17c135b9a54f26518b36c2955"><td class="memItemLeft" align="right" valign="top"><a id="a4a5743b17c135b9a54f26518b36c2955"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>mt_cairo_render_blit_back2front</b> (mt_cairo_render_t *mtcr, const <a class="el" href="structmtcr__rect__t.html">mtcr_rect_t</a> *rects, size_t num)</td></tr>
<tr class="separator:a4a5743b17c135b9a54f26518b36c2955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18a3c94f48c78976a46f9e74244605f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#a18a3c94f48c78976a46f9e74244605f4">cairo_utils_rounded_rect</a> (cairo_t *cr, double x, double y, double w, double h, double radius)</td></tr>
<tr class="separator:a18a3c94f48c78976a46f9e74244605f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb6b67796b231f6285396c802285ebb7"><td class="memItemLeft" align="right" valign="top">mt_cairo_uploader_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#abb6b67796b231f6285396c802285ebb7">mt_cairo_uploader_init</a> (void)</td></tr>
<tr class="separator:abb6b67796b231f6285396c802285ebb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab948f78eeb0137d63e2a48645bea1eb4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mt__cairo__render_8h.html#ab948f78eeb0137d63e2a48645bea1eb4">mt_cairo_uploader_fini</a> (mt_cairo_uploader_t *mtul)</td></tr>
<tr class="separator:ab948f78eeb0137d63e2a48645bea1eb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><code>mt_cairo_render</code> is a multi-threaded <a href="https://www.cairographics.org/">Cairo</a> rendering surface with built-in buffering and OpenGL compositing. You only need to provide a callback that renders into the surface using a passed <code>cairo_t</code> and then call <a class="el" href="mt__cairo__render_8h.html#aa76e051a4233da8d30a1cfb380e0ec1d">mt_cairo_render_draw()</a> at regular intervals to display the rendered result. </p>

<p class="definition">Definition in file <a class="el" href="mt__cairo__render_8h_source.html">mt_cairo_render.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ab1bd2e1672e7c2b5a4fc9731c626a0d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1bd2e1672e7c2b5a4fc9731c626a0d2">&#9670;&nbsp;</a></span>mt_cairo_render_init</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mt_cairo_render_init</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">w, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">h, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fps, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">init_cb, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">render_cb, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fini_cb, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">userinfo&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <a class="code" href="mt__cairo__render_8h.html#ab59b96c6042b0c95e69aba8b12449b21">mt_cairo_render_init_impl</a>(<a class="code" href="log_8h.html#a02a8f73c9408ca73f31f9d97e872b150">log_basename</a>(__FILE__), __LINE__, \</div>
<div class="line">        (w), (h), (fps), (init_cb), (render_cb), (fini_cb), (userinfo))</div>
<div class="ttc" id="alog_8h_html_a02a8f73c9408ca73f31f9d97e872b150"><div class="ttname"><a href="log_8h.html#a02a8f73c9408ca73f31f9d97e872b150">log_basename</a></div><div class="ttdeci">#define log_basename(f)</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00089">log.h:89</a></div></div>
<div class="ttc" id="amt__cairo__render_8h_html_ab59b96c6042b0c95e69aba8b12449b21"><div class="ttname"><a href="mt__cairo__render_8h.html#ab59b96c6042b0c95e69aba8b12449b21">mt_cairo_render_init_impl</a></div><div class="ttdeci">mt_cairo_render_t * mt_cairo_render_init_impl(const char *filename, int line, unsigned w, unsigned h, double fps, mt_cairo_init_cb_t init_cb, mt_cairo_render_cb_t render_cb, mt_cairo_fini_cb_t fini_cb, void *userinfo)</div><div class="ttdef"><b>Definition:</b> <a href="mt__cairo__render_8c_source.html#l00598">mt_cairo_render.c:598</a></div></div>
</div><!-- fragment --><p>Creates a new mt_cairo_render_t surface. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">w</td><td>Width of the rendered surface (in pixels). </td></tr>
    <tr><td class="paramname">h</td><td>Height of the rendered surface (in pixels). </td></tr>
    <tr><td class="paramname">fps</td><td>Framerate at which the surface should be rendered. This can be changed at any time later. Pass a zero fps value to make the renderer only run on-request (see <a class="el" href="mt__cairo__render_8h.html#afc519a49b2baf997426faa947e2e964b">mt_cairo_render_once()</a>). </td></tr>
    <tr><td class="paramname">init_cb</td><td>An optional initialization callback of type mt_cairo_init_cb_t. This can be used to initialize private resources needed during rendering. This gets called once for every cairo_t instance (two instances for every mt_cairo_render_t, due to double-buffering). Please note that this can be called even after calling mt_cairo_render_init, since <a class="el" href="mt__cairo__render_8h.html#adea2504bae7326ee79b086b636014700">mt_cairo_render_set_monochrome()</a> will re-allocate the cairo instances. If you don't want to receive this callback, pass NULL here. </td></tr>
    <tr><td class="paramname">render_cb</td><td>A mandatory rendering callback of type mt_cairo_render_cb_t. This is called for each rendered frame. </td></tr>
    <tr><td class="paramname">fini_cb</td><td>An optional finalization callback of type mt_cairo_fini_cb_t, which can be used to free resources allocated during init_cb. Similarly to <code>init_cb</code> above, this will be called for each surface that is being deinitialized and may be called multiple times during surface reinit. If you don't want to receive this callback, pass NULL here. </td></tr>
    <tr><td class="paramname">userinfo</td><td>An optional user info pointer for the <code>init_cb</code>, <code>render_cb</code> and <code>fini_cb</code> callbacks. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The initialized and started mt_cairo_render_t instance. Returns NULL if initialization failed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8h_source.html#l00128">128</a> of file <a class="el" href="mt__cairo__render_8h_source.html">mt_cairo_render.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a9a8431d260458c0871b743bc803f6a01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a8431d260458c0871b743bc803f6a01">&#9670;&nbsp;</a></span>mt_cairo_fini_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* mt_cairo_fini_cb_t) (cairo_t *cr, void *userinfo)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An optional finalization callback which can be passed to <a class="el" href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init()</a> in the fini_cb argument. This callback can be used to free resources allocated during initialization. This will be called for each surface that is being deinitialized and may be called multiple times during surface reinit. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cr</td><td>The <code>cairo_t</code> for which this callback is being invoked. </td></tr>
    <tr><td class="paramname">userinfo</td><td>The argument passed to <a class="el" href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init()</a> in the <code>userinfo</code> argument. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8h_source.html#l00081">81</a> of file <a class="el" href="mt__cairo__render_8h_source.html">mt_cairo_render.h</a>.</p>

</div>
</div>
<a id="a028fb273c1bd6cc21749dc78c575a293"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a028fb273c1bd6cc21749dc78c575a293">&#9670;&nbsp;</a></span>mt_cairo_init_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef bool_t(* mt_cairo_init_cb_t) (cairo_t *cr, void *userinfo)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An optional initialization callback which can be passed to <a class="el" href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init()</a> in the init_cb argument. This callback can be used to allocate custom resources for each surface, or to configure the default state of the renderer. This will be called for each surface that is being deinitialized and may be called multiple times during surface reinit. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cr</td><td>The <code>cairo_t</code> for which this callback is being invoked. </td></tr>
    <tr><td class="paramname">userinfo</td><td>The argument passed to <a class="el" href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init()</a> in the <code>userinfo</code> argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>B_TRUE</code> if you want initialization to proceed, or <code>B_FALSE</code> if you need it to abort. Please note that returning <code>B_FALSE</code> is only allowed during <a class="el" href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init()</a>, as that's the only time the renderer can abort cleanly. You must NOT return <code>B_FALSE</code> on subsequent surface reinit operations (this only happens if <a class="el" href="mt__cairo__render_8h.html#adea2504bae7326ee79b086b636014700">mt_cairo_render_set_monochrome()</a> is called). </dd></dl>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8h_source.html#l00070">70</a> of file <a class="el" href="mt__cairo__render_8h_source.html">mt_cairo_render.h</a>.</p>

</div>
</div>
<a id="acf699310e37ae80b0f8b1b4f06c53fa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf699310e37ae80b0f8b1b4f06c53fa3">&#9670;&nbsp;</a></span>mt_cairo_render_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* mt_cairo_render_cb_t) (cairo_t *cr, unsigned w, unsigned h, void *userinfo)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mandatory rendering callback, which must be provided to <a class="el" href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init()</a> in the <code>render_cb</code> argument. This will be called every time a new frame is to be rendered. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cr</td><td>The cairo_t into which you should perform rendering. The renderer is not reinitialized between frames and no blanking of the rendered image is performed automatically, so if you want redraw the entire contents, perform your own screen clearing first. </td></tr>
    <tr><td class="paramname">w</td><td>The width of the rendering surface in pixels. </td></tr>
    <tr><td class="paramname">h</td><td>The height of the rendering surface in pixels. </td></tr>
    <tr><td class="paramname">userinfo</td><td>The argument passed to <a class="el" href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init()</a> in the <code>userinfo</code> argument. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8h_source.html#l00095">95</a> of file <a class="el" href="mt__cairo__render_8h_source.html">mt_cairo_render.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a18a3c94f48c78976a46f9e74244605f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18a3c94f48c78976a46f9e74244605f4">&#9670;&nbsp;</a></span>cairo_utils_rounded_rect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cairo_utils_rounded_rect </td>
          <td>(</td>
          <td class="paramtype">cairo_t *&#160;</td>
          <td class="paramname"><em>cr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>radius</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Appends a rounded rectangle to the current path. In essence operates exactly as cairo_rectangle(), except the corners can be rounded over. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>X coordinate origin of the rectangle. </td></tr>
    <tr><td class="paramname">y</td><td>Y coordinate origin of the rectangle. </td></tr>
    <tr><td class="paramname">w</td><td>Width of rectangle. </td></tr>
    <tr><td class="paramname">h</td><td>Height of rectangle. </td></tr>
    <tr><td class="paramname">radius</td><td>Radius of the rounded arcs comprising the corners. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="cairo__utils_8c_source.html#l00031">31</a> of file <a class="el" href="cairo__utils_8c_source.html">cairo_utils.c</a>.</p>

</div>
</div>
<a id="aa76e051a4233da8d30a1cfb380e0ec1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa76e051a4233da8d30a1cfb380e0ec1d">&#9670;&nbsp;</a></span>mt_cairo_render_draw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mt_cairo_render_draw </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvect2__t.html">vect2_t</a>&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvect2__t.html">vect2_t</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Same as <a class="el" href="mt__cairo__render_8h.html#a3b139023e042e7208e418c863b6bafa7">mt_cairo_render_draw_subrect()</a>, but renders the entire surface to the passed coordinates. For the vast majority of cases, this is the call you want to use to composite the entire surface onto the target framebuffer. </p>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l01214">1214</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="a71b3ede6cb681b10ae6e169f3f3c3f3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71b3ede6cb681b10ae6e169f3f3c3f3b">&#9670;&nbsp;</a></span>mt_cairo_render_draw_pvm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mt_cairo_render_draw_pvm </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvect2__t.html">vect2_t</a>&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvect2__t.html">vect2_t</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>pvm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Same as <a class="el" href="mt__cairo__render_8h.html#af5d1bb8b4861d7d3026bd36495f05748">mt_cairo_render_draw_subrect_pvm()</a>, but always draws the entire surface, rather than just a subrect of it. </p>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l01224">1224</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="a3b139023e042e7208e418c863b6bafa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b139023e042e7208e418c863b6bafa7">&#9670;&nbsp;</a></span>mt_cairo_render_draw_subrect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mt_cairo_render_draw_subrect </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvect2__t.html">vect2_t</a>&#160;</td>
          <td class="paramname"><em>src_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvect2__t.html">vect2_t</a>&#160;</td>
          <td class="paramname"><em>src_sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvect2__t.html">vect2_t</a>&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvect2__t.html">vect2_t</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Same as <a class="el" href="mt__cairo__render_8h.html#af5d1bb8b4861d7d3026bd36495f05748">mt_cairo_render_draw_subrect_pvm()</a>, but automatically determines the projection-view-model matrix from X-Plane's datarefs. </p>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l01236">1236</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="af5d1bb8b4861d7d3026bd36495f05748"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5d1bb8b4861d7d3026bd36495f05748">&#9670;&nbsp;</a></span>mt_cairo_render_draw_subrect_pvm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mt_cairo_render_draw_subrect_pvm </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvect2__t.html">vect2_t</a>&#160;</td>
          <td class="paramname"><em>src_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvect2__t.html">vect2_t</a>&#160;</td>
          <td class="paramname"><em>src_sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvect2__t.html">vect2_t</a>&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvect2__t.html">vect2_t</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>pvm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Composites the rendered surface onto the currently bound OpenGL drawing target. This should be called at regular intervals to draw the results of the cairo render (though not necessarily in lockstep with it).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mtcr</td><td>Renderer instance to be drawn. If a new frame hasn't been rendered yet, this function simply renders the old buffer again (or nothing at all if no surface has completed internal Cairo rendering). You can guarantee that a surface is ready by first calling <a class="el" href="mt__cairo__render_8h.html#a07ab5e0f2e052d745c1c04a51d85bfd9">mt_cairo_render_once_wait()</a>. </td></tr>
    <tr><td class="paramname">src_pos</td><td>Origin position within the surface from which to perform the compositing. This is referenced to the top left coordinate origin of the Cairo image surface. </td></tr>
    <tr><td class="paramname">src_sz</td><td>Size of area to composite from the source image surface. If you pass <code>src_pos=ZERO_VECT2</code> and <code>src_sz</code> set to the entire image surface size to composite the entirety of the image surface. </td></tr>
    <tr><td class="paramname">pos</td><td>Target rendering position of the origin of the rectangle to which to composite. This is specified in OpenGL coordinates and is transformed using the provided matrix for final rendering. </td></tr>
    <tr><td class="paramname">size</td><td>Target rendering rectangle size to which to composite. This is specified in OpenGL coordinates and is transformed using the provided matrix for final rendering. </td></tr>
    <tr><td class="paramname">pvm</td><td>The projection-View-Model matrix, which will be used by the vertex shader to transform the coordinates of the final rendering rectangle. If you've installed your own custom shader, this parameter will be passed to your shader in a mat4 uniform named "pvm". </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l01302">1302</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="ae7964742bfee01bfa7cd54b8fcf5d46b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7964742bfee01bfa7cd54b8fcf5d46b">&#9670;&nbsp;</a></span>mt_cairo_render_enable_fg_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mt_cairo_render_enable_fg_mode </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables foreground rendering mode for the mt_cairo_render_t (mtcr) instance. Normally, an mtcr performs rendering in a separate background thread. There cases where you don't want or need that to happen (e.g. if you are already controlling the mtcr from a background thread and want to have the rendering happen in that background thread, instead of an extra one). Calling this function will shut down the background rendering thread of the mtcr and reconfigure it for rendering in the <a class="el" href="mt__cairo__render_8h.html#a07ab5e0f2e052d745c1c04a51d85bfd9">mt_cairo_render_once_wait()</a> call. </p><dl class="section note"><dt>Note</dt><dd>The mtcr MUST have been configured with an FPS of 0 (i.e. manual rendering invocation) before calling this function.</dd></dl>
<p>After this function returns, you must manually invoke <a class="el" href="mt__cairo__render_8h.html#a07ab5e0f2e052d745c1c04a51d85bfd9">mt_cairo_render_once_wait()</a> whenever you want the mtcr to actually perform rendering. The rendering and surface swap operations will be done directly on the calling thread, so there are no background thread synchronization issues. </p>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l00734">734</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="a584568806c696b8600561796aa26a6b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a584568806c696b8600561796aa26a6b2">&#9670;&nbsp;</a></span>mt_cairo_render_fini()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mt_cairo_render_fini </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroys a previously created mt_cairo_render_t instance. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l00657">657</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="ae17e64dcc58a523ff35c41df09e85dc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae17e64dcc58a523ff35c41df09e85dc7">&#9670;&nbsp;</a></span>mt_cairo_render_get_fg_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t mt_cairo_render_get_fg_mode </td>
          <td>(</td>
          <td class="paramtype">const mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd><code>B_TRUE</code> if the passed renderer is configure for foreground rendering, <code>B_FALSE</code> otherwise. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="mt__cairo__render_8h.html#ae7964742bfee01bfa7cd54b8fcf5d46b">mt_cairo_render_enable_fg_mode()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l00758">758</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="a93a62114a62a7814013c595d99329399"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93a62114a62a7814013c595d99329399">&#9670;&nbsp;</a></span>mt_cairo_render_get_fps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double mt_cairo_render_get_fps </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The rendering FPS of the mt_cairo_render_t. </dd></dl>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l00709">709</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="ac014bdae821422448423e7e4d2a3fd2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac014bdae821422448423e7e4d2a3fd2c">&#9670;&nbsp;</a></span>mt_cairo_render_get_height()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned mt_cairo_render_get_height </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The height of the cairo image surface in pixels. This is equal to the "h" argument originally passed to <a class="el" href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init()</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l01516">1516</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="a09ee3d86ad502e744ce9d277b0f6cbdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09ee3d86ad502e744ce9d277b0f6cbdb">&#9670;&nbsp;</a></span>mt_cairo_render_get_monochrome()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvect3__t.html">vect3_t</a> mt_cairo_render_get_monochrome </td>
          <td>(</td>
          <td class="paramtype">const mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The color used for monochrome rendering and compositing. If monochrome rendering is not in use (the default), returns <code>NULL_VECT3</code>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l00951">951</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="a0a2378b025cf8238212e4b559cdddcbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a2378b025cf8238212e4b559cdddcbe">&#9670;&nbsp;</a></span>mt_cairo_render_get_shader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned mt_cairo_render_get_shader </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The custom shader program handle which was passed to <a class="el" href="mt__cairo__render_8h.html#a8722d85a13a77aa0247f574fe53c581f">mt_cairo_render_set_shader()</a>. If no custom shader program was installed, this function returns 0 instead, to indicate that the mtcr is using the default shader program. </dd></dl>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l00877">877</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="a4765e98d8f8724b06fa71ae6158e895d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4765e98d8f8724b06fa71ae6158e895d">&#9670;&nbsp;</a></span>mt_cairo_render_get_tex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned mt_cairo_render_get_tex </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The OpenGL texture object of the surface that has currently completed rendering. If no surface is ready yet, returns 0 instead. </dd></dl>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l01476">1476</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="a29b69002c0a5ea31a84d19f9c681c74b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29b69002c0a5ea31a84d19f9c681c74b">&#9670;&nbsp;</a></span>mt_cairo_render_get_uploader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mt_cairo_uploader_t* mt_cairo_render_get_uploader </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the asynchronous uploader used by an mt_cairo_render_t, or NULL if the renderer doesn't utilize asynchronous uploading. </p>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l01459">1459</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="a6d5acdb4db96fb89b8bcc7d3a09246e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d5acdb4db96fb89b8bcc7d3a09246e8">&#9670;&nbsp;</a></span>mt_cairo_render_get_width()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned mt_cairo_render_get_width </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The width of the cairo image surface in pixels. This is equal to the "w" argument originally passed to <a class="el" href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init()</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l01505">1505</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="a70a8ee09b688b2311c92b8feba5dc223"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70a8ee09b688b2311c92b8feba5dc223">&#9670;&nbsp;</a></span>mt_cairo_render_glob_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mt_cairo_render_glob_init </td>
          <td>(</td>
          <td class="paramtype">bool_t&#160;</td>
          <td class="paramname"><em>want_coherent_mem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs global initialization of the mt_cairo_render backend logic. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">want_coherent_mem</td><td>If set to <code>B_TRUE</code>, this enables the use of persistent coherent memory for OpenGL texture uploading. This is generally recommended for most deployments, unless your OpenGL driver has bugs which make this mechanism not work well. If the underlying driver doesn't support persistent coherent memory (such as on macOS), mt_cairo_render_t automatically falls back to a different mechanism. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Only the first call of <a class="el" href="mt__cairo__render_8h.html#a70a8ee09b688b2311c92b8feba5dc223">mt_cairo_render_glob_init()</a> is honored. If you want your call to take precedence, you MUST call this function before creating any renderers or an uploader using <a class="el" href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init()</a> or <a class="el" href="mt__cairo__render_8h.html#abb6b67796b231f6285396c802285ebb7">mt_cairo_uploader_init()</a> respectively. </dd></dl>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l00425">425</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="ab59b96c6042b0c95e69aba8b12449b21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab59b96c6042b0c95e69aba8b12449b21">&#9670;&nbsp;</a></span>mt_cairo_render_init_impl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mt_cairo_render_t* mt_cairo_render_init_impl </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mt__cairo__render_8h.html#a028fb273c1bd6cc21749dc78c575a293">mt_cairo_init_cb_t</a>&#160;</td>
          <td class="paramname"><em>init_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mt__cairo__render_8h.html#acf699310e37ae80b0f8b1b4f06c53fa3">mt_cairo_render_cb_t</a>&#160;</td>
          <td class="paramname"><em>render_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mt__cairo__render_8h.html#a9a8431d260458c0871b743bc803f6a01">mt_cairo_fini_cb_t</a>&#160;</td>
          <td class="paramname"><em>fini_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>userinfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Implementation of <a class="el" href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init()</a> macro. Don't call this function directly use the macro instead. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l00598">598</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="afc519a49b2baf997426faa947e2e964b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc519a49b2baf997426faa947e2e964b">&#9670;&nbsp;</a></span>mt_cairo_render_once()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mt_cairo_render_once </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fires the renderer off once to produce a new frame. This can be especially useful for renderers with fps = 0, which are only invoked on request. This doesn't cause the caller to block until the render is complete. Instead, it simply does an asynchronous render request to the background thread. If the background thread is currently in the process of rendering a frame, this request might get ignored. If you need to make absolutely sure that a new image is drawn and that rendering is finished, use <a class="el" href="mt__cairo__render_8h.html#a07ab5e0f2e052d745c1c04a51d85bfd9">mt_cairo_render_once_wait()</a>. </p><dl class="section note"><dt>Note</dt><dd>Calling this function on an mt_cairo_render_t which has been configured for foreground rendering using <a class="el" href="mt__cairo__render_8h.html#ae7964742bfee01bfa7cd54b8fcf5d46b">mt_cairo_render_enable_fg_mode()</a> will cause an assertion failure. Foreground-mode renderers MUST be driven using <a class="el" href="mt__cairo__render_8h.html#a07ab5e0f2e052d745c1c04a51d85bfd9">mt_cairo_render_once_wait()</a> instead. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="mt__cairo__render_8h.html#a07ab5e0f2e052d745c1c04a51d85bfd9">mt_cairo_render_once_wait()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l00974">974</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="a07ab5e0f2e052d745c1c04a51d85bfd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07ab5e0f2e052d745c1c04a51d85bfd9">&#9670;&nbsp;</a></span>mt_cairo_render_once_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mt_cairo_render_once_wait </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Same as <a class="el" href="mt__cairo__render_8h.html#afc519a49b2baf997426faa947e2e964b">mt_cairo_render_once()</a>, but waits for the new frame to finish rendering. This guarantees that the image is complete and ready for compositing.</p>
<p>If the renderer is set to foreground mode (<a class="el" href="mt__cairo__render_8h.html#ae7964742bfee01bfa7cd54b8fcf5d46b">mt_cairo_render_enable_fg_mode()</a>), you must use this function to drive the rendering. </p>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l00993">993</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="af294a21a9f8302a94d7f566ddf79998e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af294a21a9f8302a94d7f566ddf79998e">&#9670;&nbsp;</a></span>mt_cairo_render_set_fps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mt_cairo_render_set_fps </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Changes the rendering FPS of an mt_cairo_render_t instance. </p>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l00694">694</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="adea2504bae7326ee79b086b636014700"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adea2504bae7326ee79b086b636014700">&#9670;&nbsp;</a></span>mt_cairo_render_set_monochrome()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mt_cairo_render_set_monochrome </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvect3__t.html">vect3_t</a>&#160;</td>
          <td class="paramname"><em>color</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables or disables monochrome rendering mode. The default is disabled (i.e. the image is rendered in RGBA mode). Monochrome rendering in Cairo is controlled using the alpha channel. If you are using the default mt_cairo_render compositing shader, the <code>color</code> vector argument to this function sets what RGB color is used in the final render. Passing any non-NULL vector here enables monochrome mode. Pass a <code>NULL_VECT3</code> to disable monochrome mode.</p>
<p>Switching rendering modes stops &amp; restarts the worker thread (when not in foreground rendering mode) and calls any surface fini and init callbacks you passed <a class="el" href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init()</a>. </p>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l00897">897</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="a8722d85a13a77aa0247f574fe53c581f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8722d85a13a77aa0247f574fe53c581f">&#9670;&nbsp;</a></span>mt_cairo_render_set_shader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mt_cairo_render_set_shader </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>prog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets a custom compositing shader program for use during <a class="el" href="mt__cairo__render_8h.html#aa76e051a4233da8d30a1cfb380e0ec1d">mt_cairo_render_draw()</a> and related functions. This lets you control how the compositing happens and apply arbitrary effects. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mtcr</td><td>The mt_cairo_render_t into which to install the shader. </td></tr>
    <tr><td class="paramname">prog</td><td>The shader program handle to set. If you set this to 0, the shader program used by the mtcr is reset back to the default.</td></tr>
  </table>
  </dd>
</dl>
<h2><a class="anchor" id="autotoc_md30"></a>
Shader Uniforms and Vertex Attributes</h2>
<p>Your custom shader program must contain at least a vertex and fragment shader. The mt_cairo_render_t automatically resolves attribute and uniform bindings using the following names:</p><ul>
<li>The vertex position attribute as a <code>vec3</code> named "vtx_pos". The Z coordinate is always set to zero and only. X and Y correspond to the input vertex coordinates based on the <code>pos</code> and <code>size</code> arguments passed to <a class="el" href="mt__cairo__render_8h.html#aa76e051a4233da8d30a1cfb380e0ec1d">mt_cairo_render_draw()</a>.</li>
<li>The vertex texture UV attribute is passed as a <code>vec2</code> named "vtx_tex0".</li>
<li>The combined projection-model-view matrix is passed in a uniform of type <code>mat4</code> named "pvm".</li>
<li>The texture containing the cairo surface is passed in a uniform of type <code>sampler2D</code> named "tex". If the mtcr is configured for RGBA rendering (the default), the texture format and internal format are both <code>GL_RGBA</code>. If the mtcr is configured for monochrome rendering, the texture is of format <code>GL_RED</code> and internal format <code>GL_R8</code> (meaning, the surface information is contained in the red channel only). In all cases, the texture data is of type <code>GL_UNSIGNED_BYTE</code>.</li>
<li>If configured for monochrome rendering, the monochrome color passed in the <code>color</code> argument of <a class="el" href="mt__cairo__render_8h.html#adea2504bae7326ee79b086b636014700">mt_cairo_render_set_monochrome()</a> is passed in a uniform of type <code>vec3</code> named "color_in". In RGBA mode, this uniform isn't filled. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l00864">864</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="a224d8e34b4eaa021e15280e3db9328cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a224d8e34b4eaa021e15280e3db9328cb">&#9670;&nbsp;</a></span>mt_cairo_render_set_texture_filter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mt_cairo_render_set_texture_filter </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>gl_filter_enum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the texture filtering used in compositing done by <a class="el" href="mt__cairo__render_8h.html#aa76e051a4233da8d30a1cfb380e0ec1d">mt_cairo_render_draw()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gl_filter_enum</td><td>Must be one of the OpenGL texture filtering enums. The default on a newly created mt_cairo_render_t is GL_LINEAR. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l00771">771</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="ab9adcf8c786a7d8590ab6e7d7f5ae432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9adcf8c786a7d8590ab6e7d7f5ae432">&#9670;&nbsp;</a></span>mt_cairo_render_set_uploader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mt_cairo_render_set_uploader </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_render_t *&#160;</td>
          <td class="paramname"><em>mtcr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mt_cairo_uploader_t *&#160;</td>
          <td class="paramname"><em>mtul</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configures the mt_cairo_render_t instance to use an asynchronous uploader. See mt_cairo_uploader_new() for more information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mtcr</td><td>Renderer to configure for asynchronous uploading. </td></tr>
    <tr><td class="paramname">mtul</td><td>Uploader to use for renderer. If you pass NULL here, the renderer is returned to synchronous uploading. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l01415">1415</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="ab948f78eeb0137d63e2a48645bea1eb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab948f78eeb0137d63e2a48645bea1eb4">&#9670;&nbsp;</a></span>mt_cairo_uploader_fini()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mt_cairo_uploader_fini </td>
          <td>(</td>
          <td class="paramtype">mt_cairo_uploader_t *&#160;</td>
          <td class="paramname"><em>mtul</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees an mt_cairo_uploader_t and disposes of all of its resources. This must be called after all mt_cairo_render_t instances using it have either been destroyed, or have had their uploader link removed by a call to mt_cairo_render_set_uploader(mtcr, NULL). </p>

<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l01789">1789</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
<a id="abb6b67796b231f6285396c802285ebb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb6b67796b231f6285396c802285ebb7">&#9670;&nbsp;</a></span>mt_cairo_uploader_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mt_cairo_uploader_t* mt_cairo_uploader_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes an asynchronous render surface uploader. This should be called from the main X-Plane thread.</p>
<h2><a class="anchor" id="autotoc_md31"></a>
Background</h2>
<p>An mt_cairo_render_t runs its Cairo rendering operations in a background thread. However, to present the final rendered image on screen, the resulting image must first be uploaded to the GPU. This requires having an OpenGL context bound to the current thread, however, OpenGL contexts cannot be shared between threads. The workaround would be to create a new context in every mt_cairo_render_t worker thread, however, given that there can be dozens of render workers, this would generate dozens of OpenGL contexts, which isn't very efficient either. In lieu of a better mechanism, mt_cairo_render would simply perform the final image upload to the GPU during the mt_cairo_render_draw operation. Which this was utilizing pixel-buffer-objects to streamline the uploading process and avoid OpenGL pipeline stalls, there was still some memcpy'ing involved, which had a non-trivial cost when invoked from the main X-Plane thread.</p>
<p>mt_cairo_uploader_t solves all of these issues. It is a separate background worker thread with its own OpenGL context dedicated to doing nothing but uploading of finished renders to the GPU. Once created, the uploader goes into a wait-sleep, awaiting new work assignments from renderers. Once a render is finished, the uploader is notified, immediately wakes up and uploads the finished render to the GPU. This happens without waiting for the main X-Plane thread to come around wanting to draw a particular mt_cairo_render_t. With this infrastructure in place, calls to mt_cairo_render_draw no longer block for texture uploading.</p>
<p>This machinery isn't automatically enabled on all instances of mt_cairo_render_t however. To utilize this mechanism, you should create an mt_cairo_uploader and associate it with all your mt_cairo_render instances using mt_cairo_render_set_uploader. You generally only ever need a single uploader for all renderers you create. Thus, following this pattern is a good idea: </p><div class="fragment"><div class="line">mt_cairo_uploader_t *uploader = mt_cairo_uploader_new();</div>
<div class="line">mt_cairo_render_t *mtcr1 = <a class="code" href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init</a>(...);</div>
<div class="line"><a class="code" href="mt__cairo__render_8h.html#ab9adcf8c786a7d8590ab6e7d7f5ae432">mt_cairo_render_set_uploader</a>(mtcr1, uploader);</div>
<div class="line">mt_cairo_render_t *mtcr2 = <a class="code" href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init</a>(...);</div>
<div class="line"><a class="code" href="mt__cairo__render_8h.html#ab9adcf8c786a7d8590ab6e7d7f5ae432">mt_cairo_render_set_uploader</a>(mtcr2, uploader);</div>
<div class="line">mt_cairo_render_t *mtcr3 = <a class="code" href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init</a>(...);</div>
<div class="line"><a class="code" href="mt__cairo__render_8h.html#ab9adcf8c786a7d8590ab6e7d7f5ae432">mt_cairo_render_set_uploader</a>(mtcr3, uploader);</div>
<div class="line"><span class="comment">// ...use the renderers as normal...</span></div>
<div class="line"><a class="code" href="mt__cairo__render_8h.html#a584568806c696b8600561796aa26a6b2">mt_cairo_render_fini</a>(mtcr3);</div>
<div class="line"><a class="code" href="mt__cairo__render_8h.html#a584568806c696b8600561796aa26a6b2">mt_cairo_render_fini</a>(mtcr2);</div>
<div class="line"><a class="code" href="mt__cairo__render_8h.html#a584568806c696b8600561796aa26a6b2">mt_cairo_render_fini</a>(mtcr1);</div>
<div class="line"><a class="code" href="mt__cairo__render_8h.html#ab948f78eeb0137d63e2a48645bea1eb4">mt_cairo_uploader_fini</a>(uploader);   &lt;- uploader fini must go last</div>
<div class="ttc" id="amt__cairo__render_8h_html_a584568806c696b8600561796aa26a6b2"><div class="ttname"><a href="mt__cairo__render_8h.html#a584568806c696b8600561796aa26a6b2">mt_cairo_render_fini</a></div><div class="ttdeci">void mt_cairo_render_fini(mt_cairo_render_t *mtcr)</div><div class="ttdef"><b>Definition:</b> <a href="mt__cairo__render_8c_source.html#l00657">mt_cairo_render.c:657</a></div></div>
<div class="ttc" id="amt__cairo__render_8h_html_ab1bd2e1672e7c2b5a4fc9731c626a0d2"><div class="ttname"><a href="mt__cairo__render_8h.html#ab1bd2e1672e7c2b5a4fc9731c626a0d2">mt_cairo_render_init</a></div><div class="ttdeci">#define mt_cairo_render_init(w, h, fps, init_cb, render_cb, fini_cb, userinfo)</div><div class="ttdef"><b>Definition:</b> <a href="mt__cairo__render_8h_source.html#l00128">mt_cairo_render.h:128</a></div></div>
<div class="ttc" id="amt__cairo__render_8h_html_ab948f78eeb0137d63e2a48645bea1eb4"><div class="ttname"><a href="mt__cairo__render_8h.html#ab948f78eeb0137d63e2a48645bea1eb4">mt_cairo_uploader_fini</a></div><div class="ttdeci">void mt_cairo_uploader_fini(mt_cairo_uploader_t *mtul)</div><div class="ttdef"><b>Definition:</b> <a href="mt__cairo__render_8c_source.html#l01789">mt_cairo_render.c:1789</a></div></div>
<div class="ttc" id="amt__cairo__render_8h_html_ab9adcf8c786a7d8590ab6e7d7f5ae432"><div class="ttname"><a href="mt__cairo__render_8h.html#ab9adcf8c786a7d8590ab6e7d7f5ae432">mt_cairo_render_set_uploader</a></div><div class="ttdeci">void mt_cairo_render_set_uploader(mt_cairo_render_t *mtcr, mt_cairo_uploader_t *mtul)</div><div class="ttdef"><b>Definition:</b> <a href="mt__cairo__render_8c_source.html#l01415">mt_cairo_render.c:1415</a></div></div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="mt__cairo__render_8c_source.html#l01748">1748</a> of file <a class="el" href="mt__cairo__render_8c_source.html">mt_cairo_render.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
