<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libacfutils: acfutils/log.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libacfutils
   </div>
   <div id="projectbrief">A general purpose library of utility functions designed to make it easier to develop addons for the X-Plane flight simulator.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2f18166f86af4fcbeaddefb60d5355e9.html">acfutils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">log.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &lt;XPLMUtilities.h&gt;</code><br />
<code>#include &quot;sysmacros.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for log.h:</div>
<div class="dyncontent">
<div class="center"><img src="log_8h__incl.png" border="0" usemap="#aacfutils_2log_8h" alt=""/></div>
<map name="aacfutils_2log_8h" id="aacfutils_2log_8h">
<area shape="rect" title=" " alt="" coords="112,5,219,32"/>
<area shape="rect" title=" " alt="" coords="5,80,80,107"/>
<area shape="rect" title=" " alt="" coords="105,80,226,107"/>
<area shape="rect" href="sysmacros_8h_source.html" title=" " alt="" coords="251,80,355,107"/>
<area shape="rect" href="types_8h_source.html" title=" " alt="" coords="267,155,338,181"/>
<area shape="rect" title=" " alt="" coords="158,229,229,256"/>
<area shape="rect" title=" " alt="" coords="261,304,331,331"/>
<area shape="rect" title=" " alt="" coords="305,229,375,256"/>
<area shape="rect" href="core_8h.html" title=" " alt="" coords="399,229,462,256"/>
<area shape="rect" href="libconfig_8h_source.html" title=" " alt="" coords="385,304,476,331"/>
</map>
</div>
</div>
<p><a href="log_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a29b620488a571771d18c6ed08e1e192d"><td class="memItemLeft" align="right" valign="top"><a id="a29b620488a571771d18c6ed08e1e192d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BUILTIN_STRRCHR</b>&#160;&#160;&#160;strrchr</td></tr>
<tr class="separator:a29b620488a571771d18c6ed08e1e192d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02a8f73c9408ca73f31f9d97e872b150"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a02a8f73c9408ca73f31f9d97e872b150">log_basename</a>(f)</td></tr>
<tr class="separator:a02a8f73c9408ca73f31f9d97e872b150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34943dc7d05ecb5198fc5ec190346825"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a34943dc7d05ecb5198fc5ec190346825">logMsg</a>(...)&#160;&#160;&#160;	<a class="el" href="log_8h.html#a3f58a73e8891294c3a3df8a0ec520164">log_impl</a>(<a class="el" href="log_8h.html#a02a8f73c9408ca73f31f9d97e872b150">log_basename</a>(__FILE__), __LINE__, __VA_ARGS__)</td></tr>
<tr class="separator:a34943dc7d05ecb5198fc5ec190346825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d041b28f0b8f778c39657573e60111b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a5d041b28f0b8f778c39657573e60111b">logMsg_v</a>(fmt,  ap)&#160;&#160;&#160;	<a class="el" href="log_8h.html#a0e966ca3747ea0355fe786918b3f6345">log_impl_v</a>(<a class="el" href="log_8h.html#a02a8f73c9408ca73f31f9d97e872b150">log_basename</a>(__FILE__), __LINE__, (fmt), (ap))</td></tr>
<tr class="separator:a5d041b28f0b8f778c39657573e60111b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aaf7eab30acb9cf71d0ad7ee09a33268a"><td class="memItemLeft" align="right" valign="top"><a id="aaf7eab30acb9cf71d0ad7ee09a33268a"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>logfunc_t</b>) (const char *)</td></tr>
<tr class="separator:aaf7eab30acb9cf71d0ad7ee09a33268a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad02cd0021647e725d93ac1ab07d9f5b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#ad02cd0021647e725d93ac1ab07d9f5b0">log_init</a> (logfunc_t func, const char *prefix)</td></tr>
<tr class="separator:ad02cd0021647e725d93ac1ab07d9f5b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab764c12d013acf2af98b24058a4bb894"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#ab764c12d013acf2af98b24058a4bb894">log_fini</a> (void)</td></tr>
<tr class="separator:ab764c12d013acf2af98b24058a4bb894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07e79f7c74ad303ec28dab806f30e385"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a07e79f7c74ad303ec28dab806f30e385">log_xplm_cb</a> (const char *str)</td></tr>
<tr class="separator:a07e79f7c74ad303ec28dab806f30e385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f58a73e8891294c3a3df8a0ec520164"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a3f58a73e8891294c3a3df8a0ec520164">log_impl</a> (const char *filename, int line, const char *fmt,...)</td></tr>
<tr class="separator:a3f58a73e8891294c3a3df8a0ec520164"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e966ca3747ea0355fe786918b3f6345"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a0e966ca3747ea0355fe786918b3f6345">log_impl_v</a> (const char *filename, int line, const char *fmt, va_list ap)</td></tr>
<tr class="separator:a0e966ca3747ea0355fe786918b3f6345"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3222ede877663a8712ee41d15c1c0cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#ad3222ede877663a8712ee41d15c1c0cf">log_backtrace</a> (int skip_frames)</td></tr>
<tr class="separator:ad3222ede877663a8712ee41d15c1c0cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This subsystem provides a convenient message logging facility. You must initialize this subsystem prior to using any other part of libacfutils which may emit log messages (which is nearly all of them). Call <a class="el" href="log_8h.html#ad02cd0021647e725d93ac1ab07d9f5b0">log_init()</a> with a suitable logging callback in the first argument. On shutdown, call <a class="el" href="log_8h.html#ab764c12d013acf2af98b24058a4bb894">log_fini()</a> to make sure all memory resources of the logging system are freed. To log a message, use the <a class="el" href="log_8h.html#a34943dc7d05ecb5198fc5ec190346825">logMsg()</a> macro. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="log_8h.html#ad02cd0021647e725d93ac1ab07d9f5b0">log_init()</a> </dd>
<dd>
<a class="el" href="log_8h.html#ab764c12d013acf2af98b24058a4bb894">log_fini()</a> </dd>
<dd>
<a class="el" href="log_8h.html#a34943dc7d05ecb5198fc5ec190346825">logMsg()</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="log_8h_source.html">log.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a02a8f73c9408ca73f31f9d97e872b150"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02a8f73c9408ca73f31f9d97e872b150">&#9670;&nbsp;</a></span>log_basename</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define log_basename</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">f</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    (BUILTIN_STRRCHR(f, <span class="charliteral">&#39;/&#39;</span>) ? BUILTIN_STRRCHR(f, <span class="charliteral">&#39;/&#39;</span>) + 1 : \</div>
<div class="line">        (BUILTIN_STRRCHR(f, <span class="charliteral">&#39;\\&#39;</span>) ? BUILTIN_STRRCHR(f, <span class="charliteral">&#39;\\&#39;</span>) + 1 : (f)))</div>
</div><!-- fragment --><p>This lets us chop out the basename (last path component) from <b>FILE</b> at compile time. This works on GCC and Clang. The fallback mechanism below just chops it out at compile time.</p>
<p>This macro is used in <a class="el" href="log_8h.html#a34943dc7d05ecb5198fc5ec190346825">logMsg()</a> to only extract the source filename of the <a class="el" href="log_8h.html#a34943dc7d05ecb5198fc5ec190346825">logMsg()</a> call. You can also use it to extract the last path component in any other macros you write.</p>
<dl class="section note"><dt>Note</dt><dd>This macro requires that the argument be a string literal at compile time. The underlying implementation is using compiler built-ins to make sure only the last path component of the string is stored in the final compiled binary. </dd></dl>

<p class="definition">Definition at line <a class="el" href="log_8h_source.html#l00088">88</a> of file <a class="el" href="log_8h_source.html">log.h</a>.</p>

</div>
</div>
<a id="a34943dc7d05ecb5198fc5ec190346825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34943dc7d05ecb5198fc5ec190346825">&#9670;&nbsp;</a></span>logMsg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define logMsg</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td>&#160;&#160;&#160;	<a class="el" href="log_8h.html#a3f58a73e8891294c3a3df8a0ec520164">log_impl</a>(<a class="el" href="log_8h.html#a02a8f73c9408ca73f31f9d97e872b150">log_basename</a>(__FILE__), __LINE__, __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This macro is the primary logging facility in libacfutils. Its arguments are a printf-like format and optional format arguments, which will be sent to the logging function specified in <a class="el" href="log_8h.html#ad02cd0021647e725d93ac1ab07d9f5b0">log_init()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Before using any logging function of libacfutils, you <b>must</b> call <a class="el" href="log_8h.html#ad02cd0021647e725d93ac1ab07d9f5b0">log_init()</a> with a suitable logging callback function.</dd></dl>
<p>The logging function automatically constructs the string as follows: </p><div class="fragment"><div class="line">YYYY-MM-DD HH:MM:SS PREFIX[FILENAME:LINE]: &lt;your message goes here&gt;</div>
</div><!-- fragment --><ul>
<li><code>PREFIX</code> is the prefix you provided in the second argument of <a class="el" href="log_8h.html#ad02cd0021647e725d93ac1ab07d9f5b0">log_init()</a>.</li>
<li><code>FILENAME</code> is the name of the file in which the <a class="el" href="log_8h.html#a34943dc7d05ecb5198fc5ec190346825">logMsg()</a> macro was placed.</li>
<li><code>LINE</code> is the line number in the file where the <a class="el" href="log_8h.html#a34943dc7d05ecb5198fc5ec190346825">logMsg()</a> macro was placed.</li>
<li>The remainder of the string is formatted using the printf-style arguments to the <a class="el" href="log_8h.html#a34943dc7d05ecb5198fc5ec190346825">logMsg()</a> macro.</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="log_8h.html#ad02cd0021647e725d93ac1ab07d9f5b0">log_init()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="log_8h_source.html#l00111">111</a> of file <a class="el" href="log_8h_source.html">log.h</a>.</p>

</div>
</div>
<a id="a5d041b28f0b8f778c39657573e60111b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d041b28f0b8f778c39657573e60111b">&#9670;&nbsp;</a></span>logMsg_v</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define logMsg_v</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ap&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;	<a class="el" href="log_8h.html#a0e966ca3747ea0355fe786918b3f6345">log_impl_v</a>(<a class="el" href="log_8h.html#a02a8f73c9408ca73f31f9d97e872b150">log_basename</a>(__FILE__), __LINE__, (fmt), (ap))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Same as <a class="el" href="log_8h.html#a34943dc7d05ecb5198fc5ec190346825">logMsg()</a>, but allows you to provide a va_list argument list. This allows you to nest <a class="el" href="log_8h.html#a34943dc7d05ecb5198fc5ec190346825">logMsg()</a> invocations inside of your own custom variadic functions. </p>

<p class="definition">Definition at line <a class="el" href="log_8h_source.html#l00118">118</a> of file <a class="el" href="log_8h_source.html">log.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad3222ede877663a8712ee41d15c1c0cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3222ede877663a8712ee41d15c1c0cf">&#9670;&nbsp;</a></span>log_backtrace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_backtrace </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>skip_frames</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>\func void <a class="el" href="log_8h.html#ad3222ede877663a8712ee41d15c1c0cf">log_backtrace(int skip_frames)</a> Logs a backtrace of the current stack to the logging system. This is typically called from an assertion failure handler to try and gather debugging information, before the app is terminated.</p>
<p>This function uses OS-specific facilities to try and determine the function names and offsets of each stack frame.</p>
<ul>
<li>On macOS and Linux, this facility utilizes the <code>backtrace()</code> and <code>backtrace_symbols()</code> functions from the platforms' respective C libraries. These attempt to use any embedded symbol information inside of the binary to determine function names and offsets.</li>
<li>On Windows, binaries unfortunately almost never ship with symbol information for internal symbols not exposed via <code>dllexport</code>. Therefore, to support getting <em>some</em> semblance of useful information, libacfutils utilizes a custom symbol table provided by you. This symbol table can be generated from a compiled binary containing DWARF2 debug information using the <code>mksyms</code> shell script contained in the <code>tools</code> directory of the libacfutils source repo. Please note, that MSVC doesn't generate DWARF2 debug information and therefore this utility cannot be used for binaries compiled with MSVC. The generated file data should be redirected to a file named <code>syms.txt</code> and placed next to the Windows XPL file for the plugin and shipped with the plugin, like this: <div class="fragment"><div class="line">$ tools/mksyms win.xpl &gt; syms.txt</div>
</div><!-- fragment --></li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">skip_frames</td><td>Number of stack frames to skip off the top of the stack before printing the remaining frames. Sometimes a crash handler is invoked from within an exception or signal handling callback. This would place a bunch of useless stack frames near the top of the backtrace, resulting in a backtrace that's hard to read. Use this argument to skip them, if you know for sure how many there are. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="log_8c_source.html#l00497">497</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>

</div>
</div>
<a id="ab764c12d013acf2af98b24058a4bb894"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab764c12d013acf2af98b24058a4bb894">&#9670;&nbsp;</a></span>log_fini()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_fini </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deinitializes the logging system. You must call this at the end of your plugin's unload function (<code>XPluginStop()</code>) to properly free any memory resources used by the logging system. </p>

<p class="definition">Definition at line <a class="el" href="log_8c_source.html#l00115">115</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>

</div>
</div>
<a id="a3f58a73e8891294c3a3df8a0ec520164"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f58a73e8891294c3a3df8a0ec520164">&#9670;&nbsp;</a></span>log_impl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_impl </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Log implementation function. Do not call directly. Use the <a class="el" href="log_8h.html#a34943dc7d05ecb5198fc5ec190346825">logMsg()</a> macro. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="log_8h.html#a34943dc7d05ecb5198fc5ec190346825">logMsg()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="log_8c_source.html#l00129">129</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>

</div>
</div>
<a id="a0e966ca3747ea0355fe786918b3f6345"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e966ca3747ea0355fe786918b3f6345">&#9670;&nbsp;</a></span>log_impl_v()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_impl_v </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>ap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Log implementation function. Do not call directly. Use the <a class="el" href="log_8h.html#a5d041b28f0b8f778c39657573e60111b">logMsg_v()</a> macro. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="log_8h.html#a5d041b28f0b8f778c39657573e60111b">logMsg_v()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="log_8c_source.html#l00142">142</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>

</div>
</div>
<a id="ad02cd0021647e725d93ac1ab07d9f5b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad02cd0021647e725d93ac1ab07d9f5b0">&#9670;&nbsp;</a></span>log_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_init </td>
          <td>(</td>
          <td class="paramtype">logfunc_t&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the libacfutils logging subsystem. You must call this before any other subsystem of libacfutils. Typically, you would do this at the start of your plugin load callback (<code>XPluginStart()</code>). This is to make sure that if any of libacfutils' subsystems or your own code needs to log errors, they can. Without initialization, any logging calls will cause the app to crash with a call to abort().</p>
<p>At the end of your plugin's unload, deinitialize the logging subsystem using <a class="el" href="log_8h.html#ab764c12d013acf2af98b24058a4bb894">log_fini()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>A callback function which will be called for every log message that will be emitted. You can provide your own logging function, or use <a class="el" href="log_8h.html#a07e79f7c74ad303ec28dab806f30e385">log_xplm_cb()</a> to simply emit any log messages to the X-Plane Log.txt. </td></tr>
    <tr><td class="paramname">prefix</td><td>A logging prefix name, which will be prepended to every log message. This is to help disambiguate which plugin is emitting a particular message. A good choice here is something that is a short name of your plugin, e.g. "my_plugin". </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="log_8c_source.html#l00097">97</a> of file <a class="el" href="log_8c_source.html">log.c</a>.</p>

</div>
</div>
<a id="a07e79f7c74ad303ec28dab806f30e385"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07e79f7c74ad303ec28dab806f30e385">&#9670;&nbsp;</a></span>log_xplm_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_xplm_cb </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A simple logging callback function suitable for passing to <a class="el" href="log_8h.html#ad02cd0021647e725d93ac1ab07d9f5b0">log_init()</a> in its first argument. This function simply emits the input string to the X-Plane Log.txt file via XPLMDebugString(). </p>

<p class="definition">Definition at line <a class="el" href="log_8h_source.html#l00062">62</a> of file <a class="el" href="log_8h_source.html">log.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
