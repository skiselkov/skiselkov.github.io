<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libacfutils: /home/diablos/NextDev/libacfutils-dll/src/taskq.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libacfutils
   </div>
   <div id="projectbrief">A general purpose library of utility functions designed to make it easier to develop addons for the X-Plane flight simulator.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">taskq.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="taskq_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * CDDL HEADER START</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * The contents of this file are subject to the terms of the</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Common Development and Distribution License, Version 1.0 only</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * (the &quot;License&quot;).  You may not use this file except in compliance</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * with the License.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * You can obtain a copy of the license in the file COPYING</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * or http://www.opensource.org/licenses/CDDL-1.0.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * See the License for the specific language governing permissions</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * and limitations under the License.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * When distributing Covered Code, include this CDDL HEADER in each</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * file and include the License file COPYING.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * If applicable, add the following below this CDDL HEADER, with the</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * fields enclosed by brackets &quot;[]&quot; replaced with your own identifying</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * information: Portions Copyright [yyyy] [name of copyright owner]</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * CDDL HEADER END</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * Copyright 2020 Saso Kiselkov. All rights reserved.</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;stddef.h&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="assert_8h.html">acfutils/assert.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="list_8h.html">acfutils/list.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="safe__alloc_8h.html">acfutils/safe_alloc.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="taskq_8h.html">acfutils/taskq.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="thread_8h.html">acfutils/thread.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="time_8h.html">acfutils/time.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="structtaskq__task__t.html">   35</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="structtaskq__task__t.html#a470e0d9342b05f01a59daa0311f68eab">   36</a></span>&#160;    <span class="keywordtype">void</span>        *<a class="code" href="structtaskq__task__t.html#a470e0d9342b05f01a59daa0311f68eab">task</a>;</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="structtaskq__task__t.html#af895e0b212294c823f85b8c01fe80f80">   37</a></span>&#160;    <a class="code" href="structlist__node.html">list_node_t</a> <a class="code" href="structtaskq__task__t.html#af895e0b212294c823f85b8c01fe80f80">node</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;} <a class="code" href="structtaskq__task__t.html">taskq_task_t</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="structtaskq__thr__t.html">   40</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="structtaskq__thr__t.html#a281d40beb8fafc194f6a24a78c9a1165">   41</a></span>&#160;    <a class="code" href="structtaskq__s.html">taskq_t</a>     *<a class="code" href="structtaskq__thr__t.html#a281d40beb8fafc194f6a24a78c9a1165">tq</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="structtaskq__thr__t.html#a61f1603e8371fd20240ada52f3b9f1d7">   42</a></span>&#160;    <a class="code" href="thread_8h.html#a608886e38de551d883250e166014c151">thread_t</a>    <a class="code" href="structtaskq__thr__t.html#a61f1603e8371fd20240ada52f3b9f1d7">thr</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="structtaskq__thr__t.html#aca0a452ca8680fc475890aad57204df1">   43</a></span>&#160;    <span class="keywordtype">void</span>        *<a class="code" href="structtaskq__thr__t.html#aca0a452ca8680fc475890aad57204df1">thr_info</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="structtaskq__thr__t.html#af895e0b212294c823f85b8c01fe80f80">   44</a></span>&#160;    <a class="code" href="structlist__node.html">list_node_t</a> <a class="code" href="structtaskq__thr__t.html#af895e0b212294c823f85b8c01fe80f80">node</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;} <a class="code" href="structtaskq__thr__t.html">taskq_thr_t</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structtaskq__s.html">   47</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structtaskq__s.html">taskq_s</a> {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="comment">/* immutable */</span></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="structtaskq__s.html#ad46084b84c31c0470f0117e29720f966">   49</a></span>&#160;    <a class="code" href="taskq_8h.html#a8a91875c1ad99c08f8152ad1dc8d2bf0">taskq_init_thr_t</a>    <a class="code" href="structtaskq__s.html#ad46084b84c31c0470f0117e29720f966">init_func</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="structtaskq__s.html#a90efec3e49b967e501df9a0ba4bce67c">   50</a></span>&#160;    <a class="code" href="taskq_8h.html#a51ad632d8affdd347e23f1dde155cf97">taskq_fini_thr_t</a>    <a class="code" href="structtaskq__s.html#a90efec3e49b967e501df9a0ba4bce67c">fini_func</a>;</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="structtaskq__s.html#a929dfbc07d68b52ef099589a73c08dd7">   51</a></span>&#160;    <a class="code" href="taskq_8h.html#a13c5baf65f53a3e61ff6e5fb27c40d28">taskq_proc_task_t</a>   <a class="code" href="structtaskq__s.html#a929dfbc07d68b52ef099589a73c08dd7">proc_func</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="structtaskq__s.html#ad6d4106dd25de44947b8a9076f3630fd">   52</a></span>&#160;    <a class="code" href="taskq_8h.html#af58b53c0496176129c5d296ebb016828">taskq_discard_task_t</a>    <a class="code" href="structtaskq__s.html#ad6d4106dd25de44947b8a9076f3630fd">discard_func</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="structtaskq__s.html#a19309e47992fec8b208771911f5e269a">   53</a></span>&#160;    <span class="keywordtype">void</span>            *<a class="code" href="structtaskq__s.html#a19309e47992fec8b208771911f5e269a">userinfo</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">   55</a></span>&#160;    <a class="code" href="structmutex__t.html">mutex_t</a>         <a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">/* protected by lock */</span></div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="structtaskq__s.html#a06203732c11df2b61ef5fe67d8326c64">   57</a></span>&#160;    <span class="keywordtype">unsigned</span>        <a class="code" href="structtaskq__s.html#a06203732c11df2b61ef5fe67d8326c64">num_threads_min</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="structtaskq__s.html#a2f4d17b7ce57ca467e79ff795dde4700">   58</a></span>&#160;    <span class="keywordtype">unsigned</span>        <a class="code" href="structtaskq__s.html#a2f4d17b7ce57ca467e79ff795dde4700">num_threads_max</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structtaskq__s.html#a63df2a9fa758ffe298480854d8a77d39">   59</a></span>&#160;    uint64_t        <a class="code" href="structtaskq__s.html#a63df2a9fa758ffe298480854d8a77d39">thr_stop_delay_us</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="structtaskq__s.html#a268c4295c21563809c37b625cf018ce4">   60</a></span>&#160;    <a class="code" href="thread_8h.html#a24783eb7e6c8daba680be535ea42f418">condvar_t</a>       <a class="code" href="structtaskq__s.html#a268c4295c21563809c37b625cf018ce4">cv</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="structtaskq__s.html#a0fc1f09b9abf6843e19b643f448bef53">   61</a></span>&#160;    <span class="keywordtype">bool</span>            <a class="code" href="structtaskq__s.html#a0fc1f09b9abf6843e19b643f448bef53">shutdown</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="structtaskq__s.html#ab20b900100e0da59afdd010e36ad6e0a">   62</a></span>&#160;    <a class="code" href="structlist.html">list_t</a>          <a class="code" href="structtaskq__s.html#ab20b900100e0da59afdd010e36ad6e0a">tasks</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="structtaskq__s.html#a7595ccf50f083ec335cf2701faafc094">   63</a></span>&#160;    <a class="code" href="structlist.html">list_t</a>          <a class="code" href="structtaskq__s.html#a7595ccf50f083ec335cf2701faafc094">threads</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="structtaskq__s.html#a903f53c5fd1d7039bb7917727376caec">   64</a></span>&#160;    <span class="keywordtype">unsigned</span>        <a class="code" href="structtaskq__s.html#a903f53c5fd1d7039bb7917727376caec">num_thr_ready</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;};</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;task_wait_for_work(<a class="code" href="structtaskq__s.html">taskq_t</a> *tq)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(tq != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">if</span> (tq-&gt;<a class="code" href="structtaskq__s.html#a63df2a9fa758ffe298480854d8a77d39">thr_stop_delay_us</a> != 0) {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        uint64_t limit = microclock() + tq-&gt;<a class="code" href="structtaskq__s.html#a63df2a9fa758ffe298480854d8a77d39">thr_stop_delay_us</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordflow">return</span> (cv_timedwait(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a268c4295c21563809c37b625cf018ce4">cv</a>, &amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>, limit) != ETIMEDOUT);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <a class="code" href="thread_8h.html#af618e8bbba1587969fe10f0562f7e9a4">cv_wait</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a268c4295c21563809c37b625cf018ce4">cv</a>, &amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">return</span> (<span class="keyword">true</span>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;taskq_worker(<span class="keywordtype">void</span> *info)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;{</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="structtaskq__thr__t.html">taskq_thr_t</a> *thr;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="structtaskq__s.html">taskq_t</a> *tq;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(info != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    thr = info;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(thr-&gt;<a class="code" href="structtaskq__thr__t.html#a281d40beb8fafc194f6a24a78c9a1165">tq</a> != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    tq = thr-&gt;<a class="code" href="structtaskq__thr__t.html#a281d40beb8fafc194f6a24a78c9a1165">tq</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(tq-&gt;<a class="code" href="structtaskq__s.html#a929dfbc07d68b52ef099589a73c08dd7">proc_func</a> != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">if</span> (tq-&gt;<a class="code" href="structtaskq__s.html#ad46084b84c31c0470f0117e29720f966">init_func</a> != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        thr-&gt;<a class="code" href="structtaskq__thr__t.html#aca0a452ca8680fc475890aad57204df1">thr_info</a> = tq-&gt;<a class="code" href="structtaskq__s.html#ad46084b84c31c0470f0117e29720f966">init_func</a>(tq-&gt;<a class="code" href="structtaskq__s.html#a19309e47992fec8b208771911f5e269a">userinfo</a>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="thread_8h.html#a0f51cda6c30f674ac3de89aca011b94c">mutex_enter</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    tq-&gt;<a class="code" href="structtaskq__s.html#a903f53c5fd1d7039bb7917727376caec">num_thr_ready</a>++;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">while</span> (!tq-&gt;<a class="code" href="structtaskq__s.html#a0fc1f09b9abf6843e19b643f448bef53">shutdown</a>) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <a class="code" href="structtaskq__task__t.html">taskq_task_t</a> *task;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="comment">/* Too many threads spawned? Stop. */</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="list_8h.html#abe59be6873fd98b9cab2ccaad5929d1a">list_count</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a7595ccf50f083ec335cf2701faafc094">threads</a>) &gt; tq-&gt;<a class="code" href="structtaskq__s.html#a2f4d17b7ce57ca467e79ff795dde4700">num_threads_max</a>)</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        task = <a class="code" href="list_8h.html#a191695a24a6e7a73580a5d91a26e29a0">list_remove_head</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#ab20b900100e0da59afdd010e36ad6e0a">tasks</a>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">if</span> (task == <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="comment">/* No work to be done */</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordflow">if</span> (task_wait_for_work(tq) ||</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                <a class="code" href="list_8h.html#abe59be6873fd98b9cab2ccaad5929d1a">list_count</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a7595ccf50f083ec335cf2701faafc094">threads</a>) &lt;= tq-&gt;<a class="code" href="structtaskq__s.html#a06203732c11df2b61ef5fe67d8326c64">num_threads_min</a>) {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        tq-&gt;<a class="code" href="structtaskq__s.html#a903f53c5fd1d7039bb7917727376caec">num_thr_ready</a>--;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="thread_8h.html#a8983eb617afffad4a58bac887225b084">mutex_exit</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="comment">/* Process the task */</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        tq-&gt;<a class="code" href="structtaskq__s.html#a929dfbc07d68b52ef099589a73c08dd7">proc_func</a>(tq-&gt;<a class="code" href="structtaskq__s.html#a19309e47992fec8b208771911f5e269a">userinfo</a>, thr-&gt;<a class="code" href="structtaskq__thr__t.html#aca0a452ca8680fc475890aad57204df1">thr_info</a>, task-&gt;<a class="code" href="structtaskq__task__t.html#a470e0d9342b05f01a59daa0311f68eab">task</a>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <a class="code" href="jsmn__path_8h.html#a95f008205354a13f67d30080c841dd7a">free</a>(task);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <a class="code" href="thread_8h.html#a0f51cda6c30f674ac3de89aca011b94c">mutex_enter</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        tq-&gt;<a class="code" href="structtaskq__s.html#a903f53c5fd1d7039bb7917727376caec">num_thr_ready</a>++;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(tq-&gt;<a class="code" href="structtaskq__s.html#a903f53c5fd1d7039bb7917727376caec">num_thr_ready</a> != 0);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    tq-&gt;<a class="code" href="structtaskq__s.html#a903f53c5fd1d7039bb7917727376caec">num_thr_ready</a>--;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">     * Cannot relinquish the lock here until we are completely removed</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">     * from the tq-&gt;threads list, otherwise taskq_submit might thing we</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">     * were just busy and we might still process work. But we are</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">     * definitely on our way out.</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span> (tq-&gt;<a class="code" href="structtaskq__s.html#a90efec3e49b967e501df9a0ba4bce67c">fini_func</a> != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        tq-&gt;<a class="code" href="structtaskq__s.html#a90efec3e49b967e501df9a0ba4bce67c">fini_func</a>(tq-&gt;<a class="code" href="structtaskq__s.html#a19309e47992fec8b208771911f5e269a">userinfo</a>, thr-&gt;<a class="code" href="structtaskq__thr__t.html#aca0a452ca8680fc475890aad57204df1">thr_info</a>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(<a class="code" href="list_8h.html#a9e6d9b55b86bcc9a3aefcd23e747fbb2">list_link_active</a>(&amp;thr-&gt;<a class="code" href="structtaskq__thr__t.html#af895e0b212294c823f85b8c01fe80f80">node</a>));</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="list_8h.html#a797fbec37291e4a82b3142d5c3da1abd">list_remove</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a7595ccf50f083ec335cf2701faafc094">threads</a>, thr);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="list_8h.html#abe59be6873fd98b9cab2ccaad5929d1a">list_count</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a7595ccf50f083ec335cf2701faafc094">threads</a>) == 0)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="code" href="thread_8h.html#a14e2447886b53000f33fc87371d86e72">cv_broadcast</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a268c4295c21563809c37b625cf018ce4">cv</a>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">     * Mustn&#39;t touch `tq&#39; after this, as on a taskq_free, it can become</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">     * freed after releasing this lock</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="thread_8h.html#a8983eb617afffad4a58bac887225b084">mutex_exit</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    memset(thr, 0, <span class="keyword">sizeof</span> (*thr));</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="jsmn__path_8h.html#a95f008205354a13f67d30080c841dd7a">free</a>(thr);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<a class="code" href="structtaskq__s.html">taskq_t</a> *</div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="taskq_8h.html#a127cf6fbb87da76427caca383ba6d633">  150</a></span>&#160;<a class="code" href="taskq_8c.html#af27f8d131b450ea0a2f597ac167d6ce8">taskq_alloc</a>(<span class="keywordtype">unsigned</span> num_threads_min, <span class="keywordtype">unsigned</span> num_threads_max,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    uint64_t thr_stop_delay_us, <a class="code" href="taskq_8h.html#a8a91875c1ad99c08f8152ad1dc8d2bf0">taskq_init_thr_t</a> init_func,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="taskq_8h.html#a51ad632d8affdd347e23f1dde155cf97">taskq_fini_thr_t</a> fini_func, <a class="code" href="taskq_8h.html#a13c5baf65f53a3e61ff6e5fb27c40d28">taskq_proc_task_t</a> proc_func,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="taskq_8h.html#af58b53c0496176129c5d296ebb016828">taskq_discard_task_t</a> discard_func, <span class="keywordtype">void</span> *userinfo)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;{</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="structtaskq__s.html">taskq_t</a> *tq = safe_calloc(1, <span class="keyword">sizeof</span> (*tq));</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="assert_8h.html#aa38648eecaaf23dc8e3ea8326bb04cf6">ASSERT3U</a>(num_threads_min, &lt;=, num_threads_max);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(num_threads_max != 0);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(proc_func != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(discard_func != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="thread_8h.html#a45c94f43dc0e6640ce504b74803841b3">mutex_init</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="thread_8h.html#a34a9164f56edad74b6fd41e6f83ef384">cv_init</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a268c4295c21563809c37b625cf018ce4">cv</a>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="list_8h.html#a353adc8f1f5f661a7ef3d30e5a4bbac1">list_create</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#ab20b900100e0da59afdd010e36ad6e0a">tasks</a>, sizeof (<a class="code" href="structtaskq__task__t.html">taskq_task_t</a>),</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        offsetof(<a class="code" href="structtaskq__task__t.html">taskq_task_t</a>, node));</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="list_8h.html#a353adc8f1f5f661a7ef3d30e5a4bbac1">list_create</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a7595ccf50f083ec335cf2701faafc094">threads</a>, sizeof (<a class="code" href="structtaskq__thr__t.html">taskq_thr_t</a>),</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        offsetof(<a class="code" href="structtaskq__thr__t.html">taskq_thr_t</a>, node));</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    tq-&gt;<a class="code" href="structtaskq__s.html#a06203732c11df2b61ef5fe67d8326c64">num_threads_min</a> = num_threads_min;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    tq-&gt;<a class="code" href="structtaskq__s.html#a2f4d17b7ce57ca467e79ff795dde4700">num_threads_max</a> = num_threads_max;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    tq-&gt;<a class="code" href="structtaskq__s.html#a63df2a9fa758ffe298480854d8a77d39">thr_stop_delay_us</a> = thr_stop_delay_us;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    tq-&gt;<a class="code" href="structtaskq__s.html#ad46084b84c31c0470f0117e29720f966">init_func</a> = init_func;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    tq-&gt;<a class="code" href="structtaskq__s.html#a90efec3e49b967e501df9a0ba4bce67c">fini_func</a> = fini_func;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    tq-&gt;<a class="code" href="structtaskq__s.html#a929dfbc07d68b52ef099589a73c08dd7">proc_func</a> = proc_func;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    tq-&gt;<a class="code" href="structtaskq__s.html#ad6d4106dd25de44947b8a9076f3630fd">discard_func</a> = discard_func;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    tq-&gt;<a class="code" href="structtaskq__s.html#a19309e47992fec8b208771911f5e269a">userinfo</a> = userinfo;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">return</span> (tq);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="taskq_8h.html#a65586b80e745027fff294f48243a9376">  182</a></span>&#160;<a class="code" href="taskq_8c.html#ac3357489e5a873591ca5365e4f94d315">taskq_free</a>(<a class="code" href="structtaskq__s.html">taskq_t</a> *tq)</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;{</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="structtaskq__task__t.html">taskq_task_t</a> *task;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(tq != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(tq-&gt;<a class="code" href="structtaskq__s.html#ad6d4106dd25de44947b8a9076f3630fd">discard_func</a> != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">     * Notify all parked workers to stop.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="thread_8h.html#a0f51cda6c30f674ac3de89aca011b94c">mutex_enter</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    tq-&gt;<a class="code" href="structtaskq__s.html#a0fc1f09b9abf6843e19b643f448bef53">shutdown</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">/* The worker threads will empty out the `tq-&gt;threads&#39; list */</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="list_8h.html#abe59be6873fd98b9cab2ccaad5929d1a">list_count</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a7595ccf50f083ec335cf2701faafc094">threads</a>) != 0) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <a class="code" href="thread_8h.html#a14e2447886b53000f33fc87371d86e72">cv_broadcast</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a268c4295c21563809c37b625cf018ce4">cv</a>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <a class="code" href="thread_8h.html#af618e8bbba1587969fe10f0562f7e9a4">cv_wait</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a268c4295c21563809c37b625cf018ce4">cv</a>, &amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="thread_8h.html#a8983eb617afffad4a58bac887225b084">mutex_exit</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="assert_8h.html#acc45baee07ce65ad601c26de805ffc40">ASSERT0</a>(<a class="code" href="list_8h.html#abe59be6873fd98b9cab2ccaad5929d1a">list_count</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a7595ccf50f083ec335cf2701faafc094">threads</a>));</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="list_8h.html#a8cfed431d920420a853040fa08d9d989">list_destroy</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a7595ccf50f083ec335cf2701faafc094">threads</a>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">     * Discard incomplete work.</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">while</span> ((task = <a class="code" href="list_8h.html#a191695a24a6e7a73580a5d91a26e29a0">list_remove_head</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#ab20b900100e0da59afdd010e36ad6e0a">tasks</a>)) != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        tq-&gt;<a class="code" href="structtaskq__s.html#ad6d4106dd25de44947b8a9076f3630fd">discard_func</a>(tq-&gt;<a class="code" href="structtaskq__s.html#a19309e47992fec8b208771911f5e269a">userinfo</a>, task-&gt;<a class="code" href="structtaskq__task__t.html#a470e0d9342b05f01a59daa0311f68eab">task</a>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <a class="code" href="jsmn__path_8h.html#a95f008205354a13f67d30080c841dd7a">free</a>(task);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="list_8h.html#a8cfed431d920420a853040fa08d9d989">list_destroy</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#ab20b900100e0da59afdd010e36ad6e0a">tasks</a>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">     * Destroy threading primitives.</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="thread_8h.html#a72f441b353a3ca8a9d1edc1e4e0c70fa">cv_destroy</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a268c4295c21563809c37b625cf018ce4">cv</a>);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="thread_8h.html#af54c902e7b0fa0727c7daf22a14a20a4">mutex_destroy</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="jsmn__path_8h.html#a95f008205354a13f67d30080c841dd7a">free</a>(tq);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="taskq_8h.html#ae79722af59267610bacfd98a9865d512">  219</a></span>&#160;<a class="code" href="taskq_8c.html#a2189425c20e9e1219b5f08a5d133dceb">taskq_submit</a>(<a class="code" href="structtaskq__s.html">taskq_t</a> *tq, <span class="keywordtype">void</span> *task)</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;{</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="structtaskq__task__t.html">taskq_task_t</a> *t = safe_calloc(1, <span class="keyword">sizeof</span> (*t));</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(tq != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    t-&gt;<a class="code" href="structtaskq__task__t.html#a470e0d9342b05f01a59daa0311f68eab">task</a> = task;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="thread_8h.html#a0f51cda6c30f674ac3de89aca011b94c">mutex_enter</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="list_8h.html#a1ebd63c35b019438d8822bd7d4fb1ff5">list_insert_tail</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#ab20b900100e0da59afdd010e36ad6e0a">tasks</a>, t);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">if</span> (tq-&gt;<a class="code" href="structtaskq__s.html#a903f53c5fd1d7039bb7917727376caec">num_thr_ready</a> != 0) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="comment">/* Only wake up a single worker */</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <a class="code" href="thread_8h.html#aef9e5ba494c29ef0ee440266662b73a0">cv_signal</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a268c4295c21563809c37b625cf018ce4">cv</a>);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="list_8h.html#abe59be6873fd98b9cab2ccaad5929d1a">list_count</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a7595ccf50f083ec335cf2701faafc094">threads</a>) &lt; tq-&gt;<a class="code" href="structtaskq__s.html#a2f4d17b7ce57ca467e79ff795dde4700">num_threads_max</a>) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="comment">/* No worker ready and we can still add more, spawn a new one */</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <a class="code" href="structtaskq__thr__t.html">taskq_thr_t</a> *thr = safe_calloc(1, <span class="keyword">sizeof</span> (*thr));</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        thr-&gt;<a class="code" href="structtaskq__thr__t.html#a281d40beb8fafc194f6a24a78c9a1165">tq</a> = tq;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <a class="code" href="list_8h.html#a1ebd63c35b019438d8822bd7d4fb1ff5">list_insert_tail</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a7595ccf50f083ec335cf2701faafc094">threads</a>, thr);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="assert_8h.html#a3675cf895544424c921cf6f8f5e91887">VERIFY</a>(<a class="code" href="thread_8h.html#af786b659a08ce46cf82d1ff34e850117">thread_create</a>(&amp;thr-&gt;<a class="code" href="structtaskq__thr__t.html#a61f1603e8371fd20240ada52f3b9f1d7">thr</a>, taskq_worker, thr));</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="thread_8h.html#a8983eb617afffad4a58bac887225b084">mutex_exit</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="taskq_8h.html#af49d60f15244b9507eb478e1656d2468">  242</a></span>&#160;<a class="code" href="taskq_8c.html#a0e086c4145f06febf1919f455e9d3043">taskq_wants_shutdown</a>(<a class="code" href="structtaskq__s.html">taskq_t</a> *tq)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;{</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordtype">bool</span> shutdown;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(tq != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="thread_8h.html#a0f51cda6c30f674ac3de89aca011b94c">mutex_enter</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    shutdown = tq-&gt;<a class="code" href="structtaskq__s.html#a0fc1f09b9abf6843e19b643f448bef53">shutdown</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="thread_8h.html#a8983eb617afffad4a58bac887225b084">mutex_exit</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">return</span> (shutdown);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="taskq_8h.html#aa9c29698f438ce3fc633051de6114ff2">  255</a></span>&#160;<a class="code" href="taskq_8c.html#aeddd3b56ed1ddfdeb14296580e447976">taskq_set_num_threads_min</a>(<a class="code" href="structtaskq__s.html">taskq_t</a> *tq, <span class="keywordtype">unsigned</span> num_threads_min)</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;{</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(tq != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (tq-&gt;<a class="code" href="structtaskq__s.html#a06203732c11df2b61ef5fe67d8326c64">num_threads_min</a> != num_threads_min) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <a class="code" href="thread_8h.html#a0f51cda6c30f674ac3de89aca011b94c">mutex_enter</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        tq-&gt;<a class="code" href="structtaskq__s.html#a06203732c11df2b61ef5fe67d8326c64">num_threads_min</a> = num_threads_min;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <a class="code" href="thread_8h.html#a14e2447886b53000f33fc87371d86e72">cv_broadcast</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a268c4295c21563809c37b625cf018ce4">cv</a>);  <span class="comment">/* wake up all workers to re-adjust */</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <a class="code" href="thread_8h.html#a8983eb617afffad4a58bac887225b084">mutex_exit</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="keywordtype">unsigned</span></div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="taskq_8h.html#abc2a13022d04c434372e11f4ac3eb622">  267</a></span>&#160;<a class="code" href="taskq_8c.html#a635938475f1b35733fae77f7b318c8d8">taskq_get_num_threads_min</a>(<span class="keyword">const</span> <a class="code" href="structtaskq__s.html">taskq_t</a> *tq)</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;{</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(tq != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">return</span> (tq-&gt;<a class="code" href="structtaskq__s.html#a06203732c11df2b61ef5fe67d8326c64">num_threads_min</a>);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;}</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="taskq_8h.html#a2da24bda6bc3164966b71e89dc94d42a">  274</a></span>&#160;<a class="code" href="taskq_8c.html#a9a60b7377ebe23bbce2448f50df6ed7d">taskq_set_num_threads_max</a>(<a class="code" href="structtaskq__s.html">taskq_t</a> *tq, <span class="keywordtype">unsigned</span> num_threads_max)</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;{</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(tq != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">if</span> (tq-&gt;<a class="code" href="structtaskq__s.html#a2f4d17b7ce57ca467e79ff795dde4700">num_threads_max</a> != num_threads_max) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <a class="code" href="thread_8h.html#a0f51cda6c30f674ac3de89aca011b94c">mutex_enter</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        tq-&gt;<a class="code" href="structtaskq__s.html#a2f4d17b7ce57ca467e79ff795dde4700">num_threads_max</a> = num_threads_max;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <a class="code" href="thread_8h.html#a14e2447886b53000f33fc87371d86e72">cv_broadcast</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a268c4295c21563809c37b625cf018ce4">cv</a>);  <span class="comment">/* wake up all workers to re-adjust */</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <a class="code" href="thread_8h.html#a8983eb617afffad4a58bac887225b084">mutex_exit</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="keywordtype">unsigned</span></div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="taskq_8h.html#accba06e760d3694fc2f91d481387fd9e">  286</a></span>&#160;<a class="code" href="taskq_8c.html#ab33652352803e9659803bf2809481ad6">taskq_get_num_threads_max</a>(<span class="keyword">const</span> <a class="code" href="structtaskq__s.html">taskq_t</a> *tq)</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;{</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(tq != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">return</span> (tq-&gt;<a class="code" href="structtaskq__s.html#a2f4d17b7ce57ca467e79ff795dde4700">num_threads_max</a>);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="taskq_8h.html#ad6e28dbec28efaaf101891db0d17b157">  293</a></span>&#160;<a class="code" href="taskq_8c.html#a355cb6d6e300a80bac11c055e736acb6">taskq_set_thr_stop_delay</a>(<a class="code" href="structtaskq__s.html">taskq_t</a> *tq, uint64_t thr_stop_delay_us)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;{</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(tq != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">if</span> (tq-&gt;<a class="code" href="structtaskq__s.html#a63df2a9fa758ffe298480854d8a77d39">thr_stop_delay_us</a> != thr_stop_delay_us) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <a class="code" href="thread_8h.html#a0f51cda6c30f674ac3de89aca011b94c">mutex_enter</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        tq-&gt;<a class="code" href="structtaskq__s.html#a63df2a9fa758ffe298480854d8a77d39">thr_stop_delay_us</a> = thr_stop_delay_us;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <a class="code" href="thread_8h.html#a14e2447886b53000f33fc87371d86e72">cv_broadcast</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#a268c4295c21563809c37b625cf018ce4">cv</a>);  <span class="comment">/* wake up all workers to re-adjust */</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="thread_8h.html#a8983eb617afffad4a58bac887225b084">mutex_exit</a>(&amp;tq-&gt;<a class="code" href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">lock</a>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;uint64_t</div>
<div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="taskq_8h.html#ae843b8f18227cd074f73c34c43ac1262">  305</a></span>&#160;<a class="code" href="taskq_8c.html#a62d68a087fb1c8b51b8fc47d51f3fe4e">taskq_get_thr_stop_delay</a>(<span class="keyword">const</span> <a class="code" href="structtaskq__s.html">taskq_t</a> *tq)</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;{</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a>(tq != <a class="code" href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">return</span> (tq-&gt;<a class="code" href="structtaskq__s.html#a63df2a9fa758ffe298480854d8a77d39">thr_stop_delay_us</a>);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;}</div>
<div class="ttc" id="aassert_8h_html"><div class="ttname"><a href="assert_8h.html">assert.h</a></div></div>
<div class="ttc" id="aassert_8h_html_a3675cf895544424c921cf6f8f5e91887"><div class="ttname"><a href="assert_8h.html#a3675cf895544424c921cf6f8f5e91887">VERIFY</a></div><div class="ttdeci">#define VERIFY(x)</div><div class="ttdef"><b>Definition:</b> <a href="assert_8h_source.html#l00073">assert.h:73</a></div></div>
<div class="ttc" id="aassert_8h_html_aa38648eecaaf23dc8e3ea8326bb04cf6"><div class="ttname"><a href="assert_8h.html#aa38648eecaaf23dc8e3ea8326bb04cf6">ASSERT3U</a></div><div class="ttdeci">#define ASSERT3U(x, op, y)</div><div class="ttdef"><b>Definition:</b> <a href="assert_8h_source.html#l00114">assert.h:114</a></div></div>
<div class="ttc" id="aassert_8h_html_aca68c0d4ac8df0838e209fb5300f7be3"><div class="ttname"><a href="assert_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT</a></div><div class="ttdeci">#define ASSERT(x)</div><div class="ttdef"><b>Definition:</b> <a href="assert_8h_source.html#l00112">assert.h:112</a></div></div>
<div class="ttc" id="aassert_8h_html_acc45baee07ce65ad601c26de805ffc40"><div class="ttname"><a href="assert_8h.html#acc45baee07ce65ad601c26de805ffc40">ASSERT0</a></div><div class="ttdeci">#define ASSERT0(x)</div><div class="ttdef"><b>Definition:</b> <a href="assert_8h_source.html#l00117">assert.h:117</a></div></div>
<div class="ttc" id="ajsmn__path_8h_html_a95f008205354a13f67d30080c841dd7a"><div class="ttname"><a href="jsmn__path_8h.html#a95f008205354a13f67d30080c841dd7a">free</a></div><div class="ttdeci">free(path)</div></div>
<div class="ttc" id="alibc_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="libc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="libc_8h_source.html#l00047">libc.h:47</a></div></div>
<div class="ttc" id="alist_8h_html"><div class="ttname"><a href="list_8h.html">list.h</a></div></div>
<div class="ttc" id="alist_8h_html_a191695a24a6e7a73580a5d91a26e29a0"><div class="ttname"><a href="list_8h.html#a191695a24a6e7a73580a5d91a26e29a0">list_remove_head</a></div><div class="ttdeci">API_EXPORT void * list_remove_head(list_t *)</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00150">list.c:150</a></div></div>
<div class="ttc" id="alist_8h_html_a1ebd63c35b019438d8822bd7d4fb1ff5"><div class="ttname"><a href="list_8h.html#a1ebd63c35b019438d8822bd7d4fb1ff5">list_insert_tail</a></div><div class="ttdeci">API_EXPORT void list_insert_tail(list_t *, void *)</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00133">list.c:133</a></div></div>
<div class="ttc" id="alist_8h_html_a353adc8f1f5f661a7ef3d30e5a4bbac1"><div class="ttname"><a href="list_8h.html#a353adc8f1f5f661a7ef3d30e5a4bbac1">list_create</a></div><div class="ttdeci">API_EXPORT void list_create(list_t *, size_t, size_t)</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00077">list.c:77</a></div></div>
<div class="ttc" id="alist_8h_html_a797fbec37291e4a82b3142d5c3da1abd"><div class="ttname"><a href="list_8h.html#a797fbec37291e4a82b3142d5c3da1abd">list_remove</a></div><div class="ttdeci">API_EXPORT void list_remove(list_t *, void *)</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00140">list.c:140</a></div></div>
<div class="ttc" id="alist_8h_html_a8cfed431d920420a853040fa08d9d989"><div class="ttname"><a href="list_8h.html#a8cfed431d920420a853040fa08d9d989">list_destroy</a></div><div class="ttdeci">API_EXPORT void list_destroy(list_t *)</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00091">list.c:91</a></div></div>
<div class="ttc" id="alist_8h_html_a9e6d9b55b86bcc9a3aefcd23e747fbb2"><div class="ttname"><a href="list_8h.html#a9e6d9b55b86bcc9a3aefcd23e747fbb2">list_link_active</a></div><div class="ttdeci">API_EXPORT int list_link_active(const list_node_t *)</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00273">list.c:273</a></div></div>
<div class="ttc" id="alist_8h_html_abe59be6873fd98b9cab2ccaad5929d1a"><div class="ttname"><a href="list_8h.html#abe59be6873fd98b9cab2ccaad5929d1a">list_count</a></div><div class="ttdeci">API_EXPORT size_t list_count(const list_t *)</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00288">list.c:288</a></div></div>
<div class="ttc" id="asafe__alloc_8h_html"><div class="ttname"><a href="safe__alloc_8h.html">safe_alloc.h</a></div></div>
<div class="ttc" id="astructlist__node_html"><div class="ttname"><a href="structlist__node.html">list_node</a></div><div class="ttdef"><b>Definition:</b> <a href="list__impl_8h_source.html#l00036">list_impl.h:36</a></div></div>
<div class="ttc" id="astructlist_html"><div class="ttname"><a href="structlist.html">list</a></div><div class="ttdef"><b>Definition:</b> <a href="list__impl_8h_source.html#l00041">list_impl.h:41</a></div></div>
<div class="ttc" id="astructmutex__t_html"><div class="ttname"><a href="structmutex__t.html">mutex_t</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00232">thread.h:232</a></div></div>
<div class="ttc" id="astructtaskq__s_html"><div class="ttname"><a href="structtaskq__s.html">taskq_s</a></div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00047">taskq.c:47</a></div></div>
<div class="ttc" id="astructtaskq__s_html_a06203732c11df2b61ef5fe67d8326c64"><div class="ttname"><a href="structtaskq__s.html#a06203732c11df2b61ef5fe67d8326c64">taskq_s::num_threads_min</a></div><div class="ttdeci">unsigned num_threads_min</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00057">taskq.c:57</a></div></div>
<div class="ttc" id="astructtaskq__s_html_a0fc1f09b9abf6843e19b643f448bef53"><div class="ttname"><a href="structtaskq__s.html#a0fc1f09b9abf6843e19b643f448bef53">taskq_s::shutdown</a></div><div class="ttdeci">bool shutdown</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00061">taskq.c:61</a></div></div>
<div class="ttc" id="astructtaskq__s_html_a19309e47992fec8b208771911f5e269a"><div class="ttname"><a href="structtaskq__s.html#a19309e47992fec8b208771911f5e269a">taskq_s::userinfo</a></div><div class="ttdeci">void * userinfo</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00053">taskq.c:53</a></div></div>
<div class="ttc" id="astructtaskq__s_html_a268c4295c21563809c37b625cf018ce4"><div class="ttname"><a href="structtaskq__s.html#a268c4295c21563809c37b625cf018ce4">taskq_s::cv</a></div><div class="ttdeci">condvar_t cv</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00060">taskq.c:60</a></div></div>
<div class="ttc" id="astructtaskq__s_html_a2f4d17b7ce57ca467e79ff795dde4700"><div class="ttname"><a href="structtaskq__s.html#a2f4d17b7ce57ca467e79ff795dde4700">taskq_s::num_threads_max</a></div><div class="ttdeci">unsigned num_threads_max</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00058">taskq.c:58</a></div></div>
<div class="ttc" id="astructtaskq__s_html_a63df2a9fa758ffe298480854d8a77d39"><div class="ttname"><a href="structtaskq__s.html#a63df2a9fa758ffe298480854d8a77d39">taskq_s::thr_stop_delay_us</a></div><div class="ttdeci">uint64_t thr_stop_delay_us</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00059">taskq.c:59</a></div></div>
<div class="ttc" id="astructtaskq__s_html_a7595ccf50f083ec335cf2701faafc094"><div class="ttname"><a href="structtaskq__s.html#a7595ccf50f083ec335cf2701faafc094">taskq_s::threads</a></div><div class="ttdeci">list_t threads</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00063">taskq.c:63</a></div></div>
<div class="ttc" id="astructtaskq__s_html_a903f53c5fd1d7039bb7917727376caec"><div class="ttname"><a href="structtaskq__s.html#a903f53c5fd1d7039bb7917727376caec">taskq_s::num_thr_ready</a></div><div class="ttdeci">unsigned num_thr_ready</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00064">taskq.c:64</a></div></div>
<div class="ttc" id="astructtaskq__s_html_a90efec3e49b967e501df9a0ba4bce67c"><div class="ttname"><a href="structtaskq__s.html#a90efec3e49b967e501df9a0ba4bce67c">taskq_s::fini_func</a></div><div class="ttdeci">taskq_fini_thr_t fini_func</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00050">taskq.c:50</a></div></div>
<div class="ttc" id="astructtaskq__s_html_a929dfbc07d68b52ef099589a73c08dd7"><div class="ttname"><a href="structtaskq__s.html#a929dfbc07d68b52ef099589a73c08dd7">taskq_s::proc_func</a></div><div class="ttdeci">taskq_proc_task_t proc_func</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00051">taskq.c:51</a></div></div>
<div class="ttc" id="astructtaskq__s_html_ab20b900100e0da59afdd010e36ad6e0a"><div class="ttname"><a href="structtaskq__s.html#ab20b900100e0da59afdd010e36ad6e0a">taskq_s::tasks</a></div><div class="ttdeci">list_t tasks</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00062">taskq.c:62</a></div></div>
<div class="ttc" id="astructtaskq__s_html_ad46084b84c31c0470f0117e29720f966"><div class="ttname"><a href="structtaskq__s.html#ad46084b84c31c0470f0117e29720f966">taskq_s::init_func</a></div><div class="ttdeci">taskq_init_thr_t init_func</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00049">taskq.c:49</a></div></div>
<div class="ttc" id="astructtaskq__s_html_ad6d4106dd25de44947b8a9076f3630fd"><div class="ttname"><a href="structtaskq__s.html#ad6d4106dd25de44947b8a9076f3630fd">taskq_s::discard_func</a></div><div class="ttdeci">taskq_discard_task_t discard_func</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00052">taskq.c:52</a></div></div>
<div class="ttc" id="astructtaskq__s_html_af302237f7e2352081ec19fe14f11a646"><div class="ttname"><a href="structtaskq__s.html#af302237f7e2352081ec19fe14f11a646">taskq_s::lock</a></div><div class="ttdeci">mutex_t lock</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00055">taskq.c:55</a></div></div>
<div class="ttc" id="astructtaskq__task__t_html"><div class="ttname"><a href="structtaskq__task__t.html">taskq_task_t</a></div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00035">taskq.c:35</a></div></div>
<div class="ttc" id="astructtaskq__task__t_html_a470e0d9342b05f01a59daa0311f68eab"><div class="ttname"><a href="structtaskq__task__t.html#a470e0d9342b05f01a59daa0311f68eab">taskq_task_t::task</a></div><div class="ttdeci">void * task</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00036">taskq.c:36</a></div></div>
<div class="ttc" id="astructtaskq__task__t_html_af895e0b212294c823f85b8c01fe80f80"><div class="ttname"><a href="structtaskq__task__t.html#af895e0b212294c823f85b8c01fe80f80">taskq_task_t::node</a></div><div class="ttdeci">list_node_t node</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00037">taskq.c:37</a></div></div>
<div class="ttc" id="astructtaskq__thr__t_html"><div class="ttname"><a href="structtaskq__thr__t.html">taskq_thr_t</a></div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00040">taskq.c:40</a></div></div>
<div class="ttc" id="astructtaskq__thr__t_html_a281d40beb8fafc194f6a24a78c9a1165"><div class="ttname"><a href="structtaskq__thr__t.html#a281d40beb8fafc194f6a24a78c9a1165">taskq_thr_t::tq</a></div><div class="ttdeci">taskq_t * tq</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00041">taskq.c:41</a></div></div>
<div class="ttc" id="astructtaskq__thr__t_html_a61f1603e8371fd20240ada52f3b9f1d7"><div class="ttname"><a href="structtaskq__thr__t.html#a61f1603e8371fd20240ada52f3b9f1d7">taskq_thr_t::thr</a></div><div class="ttdeci">thread_t thr</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00042">taskq.c:42</a></div></div>
<div class="ttc" id="astructtaskq__thr__t_html_aca0a452ca8680fc475890aad57204df1"><div class="ttname"><a href="structtaskq__thr__t.html#aca0a452ca8680fc475890aad57204df1">taskq_thr_t::thr_info</a></div><div class="ttdeci">void * thr_info</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00043">taskq.c:43</a></div></div>
<div class="ttc" id="astructtaskq__thr__t_html_af895e0b212294c823f85b8c01fe80f80"><div class="ttname"><a href="structtaskq__thr__t.html#af895e0b212294c823f85b8c01fe80f80">taskq_thr_t::node</a></div><div class="ttdeci">list_node_t node</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00044">taskq.c:44</a></div></div>
<div class="ttc" id="ataskq_8c_html_a0e086c4145f06febf1919f455e9d3043"><div class="ttname"><a href="taskq_8c.html#a0e086c4145f06febf1919f455e9d3043">taskq_wants_shutdown</a></div><div class="ttdeci">bool taskq_wants_shutdown(taskq_t *tq)</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00242">taskq.c:242</a></div></div>
<div class="ttc" id="ataskq_8c_html_a2189425c20e9e1219b5f08a5d133dceb"><div class="ttname"><a href="taskq_8c.html#a2189425c20e9e1219b5f08a5d133dceb">taskq_submit</a></div><div class="ttdeci">void taskq_submit(taskq_t *tq, void *task)</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00219">taskq.c:219</a></div></div>
<div class="ttc" id="ataskq_8c_html_a355cb6d6e300a80bac11c055e736acb6"><div class="ttname"><a href="taskq_8c.html#a355cb6d6e300a80bac11c055e736acb6">taskq_set_thr_stop_delay</a></div><div class="ttdeci">void taskq_set_thr_stop_delay(taskq_t *tq, uint64_t thr_stop_delay_us)</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00293">taskq.c:293</a></div></div>
<div class="ttc" id="ataskq_8c_html_a62d68a087fb1c8b51b8fc47d51f3fe4e"><div class="ttname"><a href="taskq_8c.html#a62d68a087fb1c8b51b8fc47d51f3fe4e">taskq_get_thr_stop_delay</a></div><div class="ttdeci">uint64_t taskq_get_thr_stop_delay(const taskq_t *tq)</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00305">taskq.c:305</a></div></div>
<div class="ttc" id="ataskq_8c_html_a635938475f1b35733fae77f7b318c8d8"><div class="ttname"><a href="taskq_8c.html#a635938475f1b35733fae77f7b318c8d8">taskq_get_num_threads_min</a></div><div class="ttdeci">unsigned taskq_get_num_threads_min(const taskq_t *tq)</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00267">taskq.c:267</a></div></div>
<div class="ttc" id="ataskq_8c_html_a9a60b7377ebe23bbce2448f50df6ed7d"><div class="ttname"><a href="taskq_8c.html#a9a60b7377ebe23bbce2448f50df6ed7d">taskq_set_num_threads_max</a></div><div class="ttdeci">void taskq_set_num_threads_max(taskq_t *tq, unsigned num_threads_max)</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00274">taskq.c:274</a></div></div>
<div class="ttc" id="ataskq_8c_html_ab33652352803e9659803bf2809481ad6"><div class="ttname"><a href="taskq_8c.html#ab33652352803e9659803bf2809481ad6">taskq_get_num_threads_max</a></div><div class="ttdeci">unsigned taskq_get_num_threads_max(const taskq_t *tq)</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00286">taskq.c:286</a></div></div>
<div class="ttc" id="ataskq_8c_html_ac3357489e5a873591ca5365e4f94d315"><div class="ttname"><a href="taskq_8c.html#ac3357489e5a873591ca5365e4f94d315">taskq_free</a></div><div class="ttdeci">void taskq_free(taskq_t *tq)</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00182">taskq.c:182</a></div></div>
<div class="ttc" id="ataskq_8c_html_aeddd3b56ed1ddfdeb14296580e447976"><div class="ttname"><a href="taskq_8c.html#aeddd3b56ed1ddfdeb14296580e447976">taskq_set_num_threads_min</a></div><div class="ttdeci">void taskq_set_num_threads_min(taskq_t *tq, unsigned num_threads_min)</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00255">taskq.c:255</a></div></div>
<div class="ttc" id="ataskq_8c_html_af27f8d131b450ea0a2f597ac167d6ce8"><div class="ttname"><a href="taskq_8c.html#af27f8d131b450ea0a2f597ac167d6ce8">taskq_alloc</a></div><div class="ttdeci">taskq_t * taskq_alloc(unsigned num_threads_min, unsigned num_threads_max, uint64_t thr_stop_delay_us, taskq_init_thr_t init_func, taskq_fini_thr_t fini_func, taskq_proc_task_t proc_func, taskq_discard_task_t discard_func, void *userinfo)</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8c_source.html#l00150">taskq.c:150</a></div></div>
<div class="ttc" id="ataskq_8h_html"><div class="ttname"><a href="taskq_8h.html">taskq.h</a></div></div>
<div class="ttc" id="ataskq_8h_html_a13c5baf65f53a3e61ff6e5fb27c40d28"><div class="ttname"><a href="taskq_8h.html#a13c5baf65f53a3e61ff6e5fb27c40d28">taskq_proc_task_t</a></div><div class="ttdeci">void(* taskq_proc_task_t)(void *userinfo, void *thr_info, void *task)</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8h_source.html#l00040">taskq.h:40</a></div></div>
<div class="ttc" id="ataskq_8h_html_a51ad632d8affdd347e23f1dde155cf97"><div class="ttname"><a href="taskq_8h.html#a51ad632d8affdd347e23f1dde155cf97">taskq_fini_thr_t</a></div><div class="ttdeci">void(* taskq_fini_thr_t)(void *userinfo, void *thr_info)</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8h_source.html#l00039">taskq.h:39</a></div></div>
<div class="ttc" id="ataskq_8h_html_a8a91875c1ad99c08f8152ad1dc8d2bf0"><div class="ttname"><a href="taskq_8h.html#a8a91875c1ad99c08f8152ad1dc8d2bf0">taskq_init_thr_t</a></div><div class="ttdeci">void *(* taskq_init_thr_t)(void *userinfo)</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8h_source.html#l00038">taskq.h:38</a></div></div>
<div class="ttc" id="ataskq_8h_html_af58b53c0496176129c5d296ebb016828"><div class="ttname"><a href="taskq_8h.html#af58b53c0496176129c5d296ebb016828">taskq_discard_task_t</a></div><div class="ttdeci">void(* taskq_discard_task_t)(void *userinfo, void *task)</div><div class="ttdef"><b>Definition:</b> <a href="taskq_8h_source.html#l00041">taskq.h:41</a></div></div>
<div class="ttc" id="athread_8h_html"><div class="ttname"><a href="thread_8h.html">thread.h</a></div></div>
<div class="ttc" id="athread_8h_html_a0f51cda6c30f674ac3de89aca011b94c"><div class="ttname"><a href="thread_8h.html#a0f51cda6c30f674ac3de89aca011b94c">mutex_enter</a></div><div class="ttdeci">#define mutex_enter(x)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00251">thread.h:251</a></div></div>
<div class="ttc" id="athread_8h_html_a14e2447886b53000f33fc87371d86e72"><div class="ttname"><a href="thread_8h.html#a14e2447886b53000f33fc87371d86e72">cv_broadcast</a></div><div class="ttdeci">#define cv_broadcast</div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00525">thread.h:525</a></div></div>
<div class="ttc" id="athread_8h_html_a24783eb7e6c8daba680be535ea42f418"><div class="ttname"><a href="thread_8h.html#a24783eb7e6c8daba680be535ea42f418">condvar_t</a></div><div class="ttdeci">#define condvar_t</div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00236">thread.h:236</a></div></div>
<div class="ttc" id="athread_8h_html_a34a9164f56edad74b6fd41e6f83ef384"><div class="ttname"><a href="thread_8h.html#a34a9164f56edad74b6fd41e6f83ef384">cv_init</a></div><div class="ttdeci">#define cv_init</div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00522">thread.h:522</a></div></div>
<div class="ttc" id="athread_8h_html_a45c94f43dc0e6640ce504b74803841b3"><div class="ttname"><a href="thread_8h.html#a45c94f43dc0e6640ce504b74803841b3">mutex_init</a></div><div class="ttdeci">#define mutex_init(x)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00240">thread.h:240</a></div></div>
<div class="ttc" id="athread_8h_html_a608886e38de551d883250e166014c151"><div class="ttname"><a href="thread_8h.html#a608886e38de551d883250e166014c151">thread_t</a></div><div class="ttdeci">#define thread_t</div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00230">thread.h:230</a></div></div>
<div class="ttc" id="athread_8h_html_a72f441b353a3ca8a9d1edc1e4e0c70fa"><div class="ttname"><a href="thread_8h.html#a72f441b353a3ca8a9d1edc1e4e0c70fa">cv_destroy</a></div><div class="ttdeci">#define cv_destroy(cv)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00523">thread.h:523</a></div></div>
<div class="ttc" id="athread_8h_html_a8983eb617afffad4a58bac887225b084"><div class="ttname"><a href="thread_8h.html#a8983eb617afffad4a58bac887225b084">mutex_exit</a></div><div class="ttdeci">#define mutex_exit(x)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00256">thread.h:256</a></div></div>
<div class="ttc" id="athread_8h_html_aef9e5ba494c29ef0ee440266662b73a0"><div class="ttname"><a href="thread_8h.html#aef9e5ba494c29ef0ee440266662b73a0">cv_signal</a></div><div class="ttdeci">#define cv_signal</div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00524">thread.h:524</a></div></div>
<div class="ttc" id="athread_8h_html_af54c902e7b0fa0727c7daf22a14a20a4"><div class="ttname"><a href="thread_8h.html#af54c902e7b0fa0727c7daf22a14a20a4">mutex_destroy</a></div><div class="ttdeci">#define mutex_destroy(x)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00245">thread.h:245</a></div></div>
<div class="ttc" id="athread_8h_html_af618e8bbba1587969fe10f0562f7e9a4"><div class="ttname"><a href="thread_8h.html#af618e8bbba1587969fe10f0562f7e9a4">cv_wait</a></div><div class="ttdeci">#define cv_wait(cv, mtx)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00500">thread.h:500</a></div></div>
<div class="ttc" id="athread_8h_html_af786b659a08ce46cf82d1ff34e850117"><div class="ttname"><a href="thread_8h.html#af786b659a08ce46cf82d1ff34e850117">thread_create</a></div><div class="ttdeci">#define thread_create(thrp, start_proc, arg)</div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00147">thread.h:147</a></div></div>
<div class="ttc" id="atime_8h_html"><div class="ttname"><a href="time_8h.html">time.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
